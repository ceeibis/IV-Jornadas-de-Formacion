function AlgoliaExplainResults(e,t,n){function a(e,t){var n=[];if("object"==typeof e&&"matchedWords"in e&&"value"in e){for(var i=!1,r=0;r<e.matchedWords.length;++r){var o=e.matchedWords[r];o in t||(t[o]=1,i=!0)}i&&n.push(e.value)}else if("[object Array]"===Object.prototype.toString.call(e))for(var s=0;s<e.length;++s){var l=a(e[s],t);n=n.concat(l)}else if("object"==typeof e)for(var c in e)e.hasOwnProperty(c)&&(n=n.concat(a(e[c],t)));return n}function i(e,t,n){var r=e._highlightResult||e;if(-1===n.indexOf("."))return n in r?a(r[n],t):[];for(var o=n.split("."),s=r,l=0;l<o.length;++l){if("[object Array]"===Object.prototype.toString.call(s)){for(var c=[],u=0;u<s.length;++u)c=c.concat(i(s[u],t,o.slice(l).join(".")));return c}if(!(o[l]in s))return[];s=s[o[l]]}return a(s,t)}var r={},o={},s=i(e,o,t);if(r.title=s.length>0?s[0]:"",r.subtitles=[],"undefined"!=typeof n)for(var l=0;l<n.length;++l)for(var c=i(e,o,n[l]),u=0;u<c.length;++u)r.subtitles.push({attr:n[l],value:c[u]});return r}var app=angular.module("autocomplete",[]);app.directive("autocomplete",function(){var e=-1;return{restrict:"E",scope:{searchParam:"=ngModel",suggestions:"=data",onType:"=onType",onSelect:"=onSelect"},controller:["$scope",function(e){e.selectedIndex=-1,e.setIndex=function(t){e.selectedIndex=parseInt(t)},this.setIndex=function(t){e.setIndex(t),e.$apply()},e.getIndex=function(t){return e.selectedIndex};var t=!0;e.completing=!1,e.$watch("searchParam",function(n,a){a!==n&&(t&&e.searchParam&&(e.completing=!0,e.searchFilter=e.searchParam,e.selectedIndex=-1),e.onType&&e.onType(e.searchParam))}),this.preSelect=function(n){t=!1,e.$apply(),t=!0},e.preSelect=this.preSelect,this.preSelectOff=function(){t=!0},e.preSelectOff=this.preSelectOff,e.select=function(n){n&&(e.searchParam=n,e.searchFilter=n,e.onSelect&&e.onSelect(n)),t=!1,e.completing=!1,setTimeout(function(){t=!0},1e3),e.setIndex(-1)}}],link:function(t,n,a){var i="";t.attrs={placeholder:"start typing...","class":"",id:"",inputclass:"",inputid:""};for(var r in a)i=r.replace("attr","").toLowerCase(),0===r.indexOf("attr")&&(t.attrs[i]=a[r]);a.clickActivation&&(n[0].onclick=function(e){t.searchParam||(t.completing=!0,t.$apply())});var o={left:37,up:38,right:39,down:40,enter:13,esc:27};document.addEventListener("keydown",function(e){var n=e.keyCode||e.which;switch(n){case o.esc:t.select(),t.setIndex(-1),t.$apply(),e.preventDefault()}},!0),document.addEventListener("blur",function(e){setTimeout(function(){t.select(),t.setIndex(-1),t.$apply()},200)},!0),n[0].addEventListener("keydown",function(n){var a=n.keyCode||n.which,i=angular.element(this).find("li").length;switch(a){case o.up:if(e=t.getIndex()-1,-1>e)e=i-1;else if(e>=i){e=-1,t.setIndex(e),t.preSelectOff();break}t.setIndex(e),-1!==e&&t.preSelect(angular.element(angular.element(this).find("li")[e]).text()),t.$apply();break;case o.down:if(e=t.getIndex()+1,-1>e)e=i-1;else if(e>=i){e=-1,t.setIndex(e),t.preSelectOff(),t.$apply();break}t.setIndex(e),-1!==e&&t.preSelect(angular.element(angular.element(this).find("li")[e]).text());break;case o.left:break;case o.right:case o.enter:e=t.getIndex(),-1!==e&&t.select(angular.element(angular.element(this).find("li")[e]).text()),t.setIndex(-1),t.$apply();break;case o.esc:t.select(),t.setIndex(-1),t.$apply(),n.preventDefault();break;default:return}(-1!==t.getIndex()||a==o.enter)&&n.preventDefault()})},templateUrl:"js/libs/angular-autocomplete/ac_template.html"}}),app.filter("highlight",["$sce",function(e){return function(t,n){if("function"==typeof t)return"";if(n){var a="("+n.split(/\ /).join(" |")+"|"+n.split(/\ /).join("|")+")",i=new RegExp(a,"gi");a.length&&(t=t.replace(i,'<span class="highlight">$1</span>'))}return e.trustAsHtml(t)}}]),app.directive("suggestion",function(){return{restrict:"A",require:"^autocomplete",link:function(e,t,n,a){t.bind("mouseenter",function(){a.preSelect(n.val),a.setIndex(n.index)}),t.bind("mouseleave",function(){a.preSelectOff()})}}}),define("libs/angular-autocomplete/angular-autocomplete",function(){}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,a){function i(){n.removeClass("collapse").addClass("collapsing"),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(r)}function r(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),e.removeClass(n,"in",{to:{height:"0"}}).then(s)}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?o():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.$watch("isOpen",function(t){t&&a.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],r=a[1];r.$render=function(){t.toggleClass(i.activeClass,angular.equals(r.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){r.$setViewValue(a?null:e.$eval(n.btnRadio)),r.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){function i(){return o(n.btnCheckboxTrue,!0)}function r(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}var s=a[0],l=a[1];l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.bind(s.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?r():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(e,t,n){function a(e){if(angular.isUndefined(u[e].index))return u[e];var t;for(u.length,t=0;t<u.length;++t)if(u[t].index==e)return u[t]}function i(){r();var n=+e.interval;!isNaN(n)&&n>0&&(s=t(o,n))}function r(){s&&(t.cancel(s),s=null)}function o(){var t=+e.interval;l&&!isNaN(t)&&t>0?e.next():e.pause()}var s,l,c=this,u=c.slides=e.slides=[],p=-1;c.currentSlide=null;var d=!1;c.select=e.select=function(t,a){function r(){d||(angular.extend(t,{direction:a,active:!0}),angular.extend(c.currentSlide||{},{direction:a,active:!1}),n.enabled()&&!e.noTransition&&t.$element&&(e.$currentTransition=!0,t.$element.one("$animate:close",function(){e.$currentTransition=null})),c.currentSlide=t,p=o,i())}var o=c.indexOfSlide(t);void 0===a&&(a=o>c.getCurrentIndex()?"next":"prev"),t&&t!==c.currentSlide&&r()},e.$on("$destroy",function(){d=!0}),c.getCurrentIndex=function(){return c.currentSlide&&angular.isDefined(c.currentSlide.index)?+c.currentSlide.index:p},c.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:u.indexOf(e)},e.next=function(){var t=(c.getCurrentIndex()+1)%u.length;return e.$currentTransition?void 0:c.select(a(t),"next")},e.prev=function(){var t=c.getCurrentIndex()-1<0?u.length-1:c.getCurrentIndex()-1;return e.$currentTransition?void 0:c.select(a(t),"prev")},e.isActive=function(e){return c.currentSlide===e},e.$watch("interval",i),e.$on("$destroy",r),e.play=function(){l||(l=!0,i())},e.pause=function(){e.noPause||(l=!1,r())},c.addSlide=function(t,n){t.$element=n,u.push(t),1===u.length||t.active?(c.select(u[u.length-1]),1==u.length&&e.play()):t.active=!1},c.removeSlide=function(e){angular.isDefined(e.index)&&u.sort(function(e,t){return+e.index>+t.index});var t=u.indexOf(e);u.splice(t,1),u.length>0&&e.active?c.select(t>=u.length?u[t-1]:u[t]):p>t&&p--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$animate",function(e){return{beforeAddClass:function(t,n,a){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var i=!1,r=t.isolateScope().direction,o="next"==r?"left":"right";return t.addClass(r),e.addClass(t,o).then(function(){i||t.removeClass(o+" "+r),a()}),function(){i=!0}}a()},beforeRemoveClass:function(t,n,a){if("active"==n&&t.parent()&&!t.parent().scope().noTransition){var i=!1,r=t.isolateScope().direction,o="next"==r?"left":"right";return e.addClass(t,o).then(function(){i||t.removeClass(o),a()}),function(){i=!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],a=e.split("");return angular.forEach(r,function(t,i){var r=e.indexOf(i);if(r>-1){e=e.split(""),a[r]="("+t.regex+")",e[r]="$";for(var o=r+1,s=r+i.length;s>o;o++)a[o]="",e[o]="$";e=e.join(""),n.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:t(n,"index")}}function a(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var i=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(t,r,o){if(!angular.isString(t)||!r)return t;r=e.DATETIME_FORMATS[r]||r,r=r.replace(i,"\\$&"),this.parsers[r]||(this.parsers[r]=n(r));var s=this.parsers[r],l=s.regex,c=s.map,u=t.match(l);if(u&&u.length){var p,d;p=o?{year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var f=1,h=u.length;h>f;f++){var g=c[f-1];g.apply&&g.apply.call(p,u[f])}return a(p.year,p.month,p.date)&&(d=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),d}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},r=i(t[0]);r!=e[0]&&(a=this.offset(angular.element(r)),a.top+=r.clientTop-r.scrollTop,a.left+=r.clientLeft-r.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,r,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),r=t.prop("offsetWidth"),o=t.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:d[u](),left:p[c]()};break;case"left":s={top:d[u](),left:i.left-r};break;case"bottom":s={top:d[c](),left:p[u]()};break;default:s={top:i.top-o,left:p[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,a,i,r,o,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?8>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=s[a]?new Date(s[a]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.maxMode=l.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function o(e,t){var n=new Array(t),a=new Date(e),i=0;for(a.setHours(12);t>i;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),r=new Date(n,a,1),l=i.startingDay-r.getDay(),c=l>0?7-l:-l,u=new Date(r);c>0&&u.setDate(-c+1);for(var p=o(u,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==a,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(p[f].date,i.formatDayHeader),full:e(p[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(p,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-i.startingDay)%7,g=t.rows.length,m=0;g>m;m++)t.weekNumbers.push(s(t.rows[m][h].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(r(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),a=i.activeDate.getFullYear(),r=0;12>r;r++)n[r]=angular.extend(i.createDateObject(new Date(a,r,1),i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/r,10)*r+1}var r=a.yearRange;a.step={years:r},a.element=t,a._refreshView=function(){for(var t=new Array(r),n=0,o=i(a.activeDate.getFullYear());r>n;n++)t[n]=angular.extend(a.createDateObject(new Date(o+n,0,1),a.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[r-1].label].join(" - "),e.rows=a.split(t,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+r-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,a,i,r,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(s,l,c,u){function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function d(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,h,s.date)||new Date(e);return isNaN(t)?void 0:t}}function f(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,h)||new Date(n);return!isNaN(a)}return!1}return!0}var h,g=angular.isDefined(c.closeOnDateSelection)?s.$parent.$eval(c.closeOnDateSelection):o.closeOnDateSelection,m=angular.isDefined(c.datepickerAppendToBody)?s.$parent.$eval(c.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(c.showButtonBar)?s.$parent.$eval(c.showButtonBar):o.showButtonBar,s.getText=function(e){return s[e+"Text"]||o[e+"Text"]};var v=!1;if(o.html5Types[c.type]?(h=o.html5Types[c.type],v=!0):(h=c.datepickerPopup||o.datepickerPopup,c.$observe("datepickerPopup",function(e){var t=e||o.datepickerPopup;if(t!==h&&(h=t,u.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(v&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var b=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");b.attr({"ng-model":"date","ng-change":"dateSelection()"});var y=angular.element(b.children()[0]);if(v&&"month"==c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var $=s.$parent.$eval(c.datepickerOptions);$.initDate&&(s.initDate=$.initDate,y.attr("init-date","initDate"),delete $.initDate),angular.forEach($,function(e,t){y.attr(p(t),e)})}s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(c[e]){var n=t(c[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),y.attr(p(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&a(s.$parent,e)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),v?u.$formatters.push(function(e){return s.date=e,e}):(u.$$parserName="date",u.$validators.date=f,u.$parsers.unshift(d),u.$formatters.push(function(e){return s.date=e,u.$isEmpty(e)?e:i(e,h)})),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e);var t=s.date?i(s.date,h):"";l.val(t),u.$setViewValue(t),g&&(s.isOpen=!1,l[0].focus())},u.$viewChangeListeners.push(function(){s.date=r.parse(u.$viewValue,h,s.date)||new Date(u.$viewValue)});var w=function(e){s.isOpen&&e.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},x=function(e){s.keydown(e)};l.bind("keydown",x),s.keydown=function(e){27===e.which?(e.preventDefault(),s.isOpen&&e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=m?a.offset(l):a.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",w)):n.unbind("click",w)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(s.date)?(e=new Date(s.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,l[0].focus()};var k=e(b)(s);b.remove(),m?n.find("body").append(k):l.after(k),s.$on("$destroy",function(){k.remove(),l.unbind("keydown",x),n.unbind("click",w)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",a),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",a),e.unbind("keydown",i))};var a=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which&&(n.focusToggleElement(),a())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(e,t,n,a,i,r,o,s){var l,c=this,u=e.$new(),p=a.openClass,d=angular.noop,f=t.onToggle?n(t.onToggle):angular.noop,h=!1;this.init=function(a){c.$element=a,t.isOpen&&(l=n(t.isOpen),d=l.assign,e.$watch(l,function(e){u.isOpen=!!e})),h=angular.isDefined(t.dropdownAppendToBody),h&&c.dropdownMenu&&(s.find("body").append(c.dropdownMenu),a.on("$destroy",function(){c.dropdownMenu.remove()}))},this.toggle=function(e){return u.isOpen=arguments.length?!!e:!u.isOpen},this.isOpen=function(){return u.isOpen},u.getToggleElement=function(){return c.toggleElement},u.getAutoClose=function(){return t.autoClose||"always"},u.getElement=function(){return c.$element},u.focusToggleElement=function(){c.toggleElement&&c.toggleElement[0].focus()},u.$watch("isOpen",function(t,n){if(h&&c.dropdownMenu){var a=o.positionElements(c.$element,c.dropdownMenu,"bottom-left",!0);c.dropdownMenu.css({top:a.top+"px",left:a.left+"px",display:t?"block":"none"})}r[t?"addClass":"removeClass"](c.$element,p),t?(u.focusToggleElement(),i.open(u)):i.close(u),d(e,t),angular.isDefined(t)&&t!==n&&f(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){u.isOpen=!1}),e.$on("$destroy",function(){u.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){a&&(a.dropdownMenu=t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){
n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){function t(t){t.animate=!1,e(function(){t.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,n){return e.addClass(n.backdropClass),t}}}]).directive("modalWindow",["$modalStack","$q",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var r=t.defer();i.$observe("modalRender",function(e){"true"==e&&r.resolve()}),r.promise.then(function(){n.animate=!0;var t=a[0].querySelectorAll("[autofocus]");t.length?t[0].focus():a[0].focus();var i=e.getTop();i&&e.modalRendered(i.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,a,i,r){function o(){for(var e=-1,t=h.keys(),n=0;n<t.length;n++)h.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),a=h.get(e).value;h.remove(e),c(a.modalDomEl,a.modalScope,function(){t.toggleClass(f,h.length()>0),l()})}function l(){if(p&&-1==o()){var e=d;c(p,d,function(){e=null}),p=void 0,d=void 0}}function c(n,a,r){function o(){o.done||(o.done=!0,n.remove(),a.$destroy(),r&&r())}a.animate=!1,n.attr("modal-animation")&&e.enabled()?n.one("$animate:close",function(){i.$evalAsync(o)}):t(o)}function u(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var p,d,f="modal-open",h=r.createNew(),g={};return i.$watch(o,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=h.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){g.dismiss(t.key,"escape key press")})))}),g.open=function(e,t){var r=n[0].activeElement;h.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var s=n.find("body").eq(0),l=o();if(l>=0&&!p){d=i.$new(!0),d.index=l;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),p=a(c)(d),s.append(p)}var u=angular.element('<div modal-window="modal-window"></div>');u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:h.length()-1,animate:"animate"}).html(t.content),t.animation&&u.attr("modal-animation","true");var g=a(u)(t.scope);h.top().value.modalDomEl=g,h.top().value.modalOpener=r,s.append(g),s.addClass(f)},g.close=function(e,t){var n=h.get(e);return n&&u(n,t,!0)?(n.value.deferred.resolve(t),s(e),n.value.modalOpener.focus(),!0):!n},g.dismiss=function(e,t){var n=h.get(e);return n&&u(n,t,!1)?(n.value.deferred.reject(t),s(e),n.value.modalOpener.focus(),!0):!n},g.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},g.getTop=function(){return h.top()},g.modalRendered=function(e){var t=h.get(e);t&&t.value.renderDeferred.resolve()},g}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,a,i,r,o){function s(e){return e.template?a.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(a.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var i=a.defer(),c=a.defer(),u=a.defer(),p={result:i.promise,opened:c.promise,rendered:u.promise,close:function(e){return o.close(p,e)},dismiss:function(e){return o.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=a.all([s(t)].concat(l(t.resolve)));return d.then(function(e){var a=(t.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss;var s,l={},c=1;t.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),s=r(t.controller,l),t.controllerAs&&(a[t.controllerAs]=s)),o.open(p,{scope:a,deferred:i,renderDeferred:u,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),d.then(function(){c.resolve(!0)},function(e){c.reject(e)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},r=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){i=o,this.config=s,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){r(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,r){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,r=angular.isDefined(u)&&t>u;r&&(p?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=o(s,s,s===e);n.push(l)}if(r&&!p){if(a>1){var c=o(a-1,"...",!1);n.unshift(c)}if(t>i){var d=o(i+1,"...",!1);n.push(d)}}return n}var l=r[0],c=r[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var d=l.render;l.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,a,i){var r=i[0],o=i[1];o&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,r.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,r,o,s,l,c){return function(i,u,p,d){function f(e){var t=e||d.trigger||p,a=n[t]||t;return{show:t,hide:a}}d=angular.extend({},t,a,d);var h=e(i),g=c.startSymbol(),m=c.endSymbol(),v="<div "+h+'-popup title="'+g+"title"+m+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=r(v);return function(t,n,a){function r(){D.isOpen?p():c()}function c(){(!M||t.$eval(a[u+"Enable"]))&&(b(),D.popupDelay?S||(S=o(h,D.popupDelay,!1),S.then(function(e){e()})):h()())}function p(){t.$apply(function(){g()})}function h(){return S=null,C&&(o.cancel(C),C=null),(d.useContentExp?D.contentExp():D.content)?(m(),k.css({top:0,left:0,display:"block"}),D.$digest(),A(),D.isOpen=!0,D.$apply(),A):angular.noop}function g(){D.isOpen=!1,o.cancel(S),S=null,D.animation?C||(C=o(v,500)):v()}function m(){k&&v(),T=D.$new(),k=e(T,function(e){E?s.find("body").append(e):n.after(e)}),T.$watch(function(){o(A,0,!1)}),d.useContentExp&&T.$watch("contentExp()",function(e){!e&&D.isOpen&&g()})}function v(){C=null,k&&(k.remove(),k=null),T&&(T.$destroy(),T=null)}function b(){y(),$(),w()}function y(){D.popupClass=a[u+"Class"]}function $(){var e=a[u+"Placement"];D.placement=angular.isDefined(e)?e:d.placement}function w(){var e=a[u+"PopupDelay"],t=parseInt(e,10);D.popupDelay=isNaN(t)?d.popupDelay:t}function x(){var e=a[u+"Trigger"];O(),I=f(e),I.show===I.hide?n.bind(I.show,r):(n.bind(I.show,c),n.bind(I.hide,p))}var k,T,C,S,E=angular.isDefined(d.appendToBody)?d.appendToBody:!1,I=f(void 0),M=angular.isDefined(a[u+"Enable"]),D=t.$new(!0),A=function(){if(k){var e=l.positionElements(n,k,D.placement,E);e.top+="px",e.left+="px",k.css(e)}};D.origScope=t,D.isOpen=!1,D.contentExp=function(){return t.$eval(a[i])},d.useContentExp||a.$observe(i,function(e){D.content=e,!e&&D.isOpen&&g()}),a.$observe("disabled",function(e){e&&D.isOpen&&g()}),a.$observe(u+"Title",function(e){D.title=e});var O=function(){n.unbind(I.show,c),n.unbind(I.hide,p)};x();var P=t.$eval(a[u+"Animation"]);D.animation=angular.isDefined(P)?!!P:d.animation;var R=t.$eval(a[u+"AppendToBody"]);E=angular.isDefined(R)?R:E,E&&t.$on("$locationChangeSuccess",function(){D.isOpen&&g()}),t.$on("$destroy",function(){o.cancel(C),o.cancel(S),O(),v(),D=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,r,o){var s,l,c,u=i.$eval(o.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(o.tooltipTemplateTransclude),function(t){var o=++p;t?(a(t,!0).then(function(a){if(o===p){var i=u.$new(),l=a,f=n(l)(i,function(t){d(),e.enter(t,r)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){o===p&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],r=a[1];i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var r=i==n.length-1?i-1:i+1;t.select(n[r])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,a,i){return function(n,a,r,o){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,r.disable&&n.$parent.$watch(e(r.disable),function(e){n.disabled=!!e}),r.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(r.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,r){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),h.$setViewValue(new Date(f)),p(e)}function u(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=f.getHours(),a=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(a)),e.meridian=f.getHours()<12?g[0]:g[1]}function d(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),c()}var f=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):r.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){h=n,h.$render=this.render,h.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),o=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):r.mousewheel;s&&this.setupMousewheelEvents(i,o);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):r.arrowkeys;l&&this.setupArrowkeyEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o)};var m=r.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=r.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=r.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,h.$error.time){var n=o(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(f.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var a=function(t,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(f.setHours(e),c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(f.setMinutes(e),c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=h.$viewValue;isNaN(e)?(h.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),u(),p())},e.incrementHours=function(){d(60*m)},e.decrementHours=function(){d(60*-m)},e.incrementMinutes=function(){d(v)},e.decrementMinutes=function(){d(-v)},e.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,a,i){function r(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(a,i,r){r=r||{};var s=e.defer(),l=o[r.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=r(l),o.animationEndEventName=r(c),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,a,i,r,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,p){var d,f=l.$eval(u.typeaheadMinLength)||1,h=l.$eval(u.typeaheadWaitMs)||0,g=l.$eval(u.typeaheadEditable)!==!1,m=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,y=u.typeaheadAppendToBody?l.$eval(u.typeaheadAppendToBody):!1,$=l.$eval(u.typeaheadFocusFirst)!==!1,w=t(u.ngModel).assign,x=o.parse(u.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var T="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":T});var C=angular.element("<div typeahead-popup></div>");C.attr({id:T,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&C.attr("template-url",u.typeaheadTemplateUrl);var S=function(){k.matches=[],k.activeIdx=-1,c.attr("aria-expanded",!1)},E=function(e){return T+"-option-"+e};k.$watch("activeIdx",function(e){0>e?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",E(e))});var I=function(e){var t={$viewValue:e};m(l,!0),n.when(x.source(l,t)).then(function(n){var a=e===p.$viewValue;if(a&&d)if(n&&n.length>0){k.activeIdx=$?0:-1,k.matches.length=0;for(var i=0;i<n.length;i++)t[x.itemName]=n[i],k.matches.push({id:E(i),label:x.viewMapper(k,t),model:n[i]});k.query=e,k.position=y?r.offset(c):r.position(c),k.position.top=k.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else S();a&&m(l,!1)},function(){S(),m(l,!1)})};S(),k.query=void 0;var M,D=function(e){M=a(function(){I(e)},h)},A=function(){M&&a.cancel(M)};p.$parsers.unshift(function(e){return d=!0,e&&e.length>=f?h>0?(A(),D(e)):I(e):(m(l,!1),A(),S()),g?e:e?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),e)}),p.$formatters.push(function(e){var t,n,a={};return g||p.$setValidity("editable",!0),b?(a.$model=e,b(l,a)):(a[x.itemName]=e,t=x.viewMapper(l,a),a[x.itemName]=void 0,n=x.viewMapper(l,a),t!==n?t:e)}),k.select=function(e){var t,n,i={};i[x.itemName]=n=k.matches[e].model,t=x.modelMapper(l,i),w(l,t),p.$setValidity("editable",!0),p.$setValidity("parse",!0),v(l,{$item:n,$model:t,$label:x.viewMapper(l,i)}),S(),a(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==k.matches.length&&-1!==s.indexOf(e.which)&&(-1!=k.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===e.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===e.which||9===e.which?k.$apply(function(){k.select(k.activeIdx)}):27===e.which&&(e.stopPropagation(),S(),k.$digest()))}),c.bind("blur",function(){d=!1});var O=function(e){c[0]!==e.target&&(S(),k.$digest())};i.bind("click",O),l.$on("$destroy",function(){i.unbind("click",O),y&&P.remove(),C.remove()});var P=e(C)(k);y?i.find("body").append(P):c.after(P)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,r){var o=n(r.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(o).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n	ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),define("libs/ui-bootstrap",function(){}),angular.module("ng-context-menu",[]).factory("ContextMenuService",function(){return{element:null,menuElement:null,container:null}}).directive("contextMenu",["$document","ContextMenuService",function(e,t){return{restrict:"A",scope:{callback:"&contextMenu",disabled:"&contextMenuDisabled"},link:function(n,a,i){function r(t,n,a){n.addClass("open"),a&&a.append(n);var i=e[0].documentElement,r=(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),o=(window.pageYOffset||i.scrollTop)-(i.clientTop||0),s=n[0].scrollHeight,l=i.clientHeight+o,u=s+t.pageY,p=Math.max(t.pageY-o,0);u>l&&(p-=u-l),n.css("top",p+"px"),n.css("left",Math.max(t.pageX-r,0)+"px"),c=!0}function o(e){e.removeClass("open"),c=!1}function s(e){!n.disabled()&&c&&27===e.keyCode&&n.$apply(function(){o(t.menuElement)})}function l(e){n.disabled()||!c||2===e.button&&e.target===t.element||n.$apply(function(){o(t.menuElement)})}var c=!1;a.bind("contextmenu",function(e){n.disabled()||(null!==t.menuElement&&o(t.menuElement),t.menuElement=angular.element(document.getElementById(i.target)),"undefined"!=typeof i.contextMenuContainer&&(t.container=angular.element(i.contextMenuContainer)),t.element=e.target,e.preventDefault(),e.stopPropagation(),n.$apply(function(){n.callback({$event:e}),r(e,t.menuElement,t.container)}))}),e.bind("keyup",s),e.bind("click",l),e.bind("contextmenu",l),n.$on("$destroy",function(){e.unbind("keyup",s),e.unbind("click",l),e.unbind("contextmenu",l)})}}}]),define("libs/ng-context-menu-0.1.4",function(){}),function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},t=e._,n=Array.prototype,a=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,r=n.push,o=n.slice,s=a.toString,l=a.hasOwnProperty,c=Array.isArray,u=Object.keys,p=Object.create,d=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};"undefined"==typeof exports||exports.nodeType?e._=f:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=f),exports._=f),f.VERSION="1.9.1";var h,g=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,a,i){return e.call(t,n,a,i)};case 4:return function(n,a,i,r){return e.call(t,n,a,i,r)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return f.iteratee!==h?f.iteratee(e,t):null==e?f.identity:f.isFunction(e)?g(e,t,n):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)};f.iteratee=h=function(e,t){return m(e,t,1/0)};var v=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),a=Array(n),i=0;n>i;i++)a[i]=arguments[i+t];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var r=Array(t+1);for(i=0;t>i;i++)r[i]=arguments[i];return r[t]=a,e.apply(this,r)}},b=function(e){if(!f.isObject(e))return{};if(p)return p(e);d.prototype=e;var t=new d;return d.prototype=null,t},y=function(e){return function(t){return null==t?void 0:t[e]}},$=function(e,t){return null!=e&&l.call(e,t)},w=function(e,t){for(var n=t.length,a=0;n>a;a++){if(null==e)return;e=e[t[a]]}return n?e:void 0},x=Math.pow(2,53)-1,k=y("length"),T=function(e){var t=k(e);return"number"==typeof t&&t>=0&&x>=t};f.each=f.forEach=function(e,t,n){t=g(t,n);var a,i;if(T(e))for(a=0,i=e.length;i>a;a++)t(e[a],a,e);else{var r=f.keys(e);for(a=0,i=r.length;i>a;a++)t(e[r[a]],r[a],e)}return e},f.map=f.collect=function(e,t,n){t=m(t,n);for(var a=!T(e)&&f.keys(e),i=(a||e).length,r=Array(i),o=0;i>o;o++){var s=a?a[o]:o;r[o]=t(e[s],s,e)}return r};var C=function(e){var t=function(t,n,a,i){var r=!T(t)&&f.keys(t),o=(r||t).length,s=e>0?0:o-1;for(i||(a=t[r?r[s]:s],s+=e);s>=0&&o>s;s+=e){var l=r?r[s]:s;a=n(a,t[l],l,t)}return a};return function(e,n,a,i){var r=arguments.length>=3;return t(e,g(n,i,4),a,r)}};f.reduce=f.foldl=f.inject=C(1),f.reduceRight=f.foldr=C(-1),f.find=f.detect=function(e,t,n){var a=T(e)?f.findIndex:f.findKey,i=a(e,t,n);return void 0!==i&&-1!==i?e[i]:void 0},f.filter=f.select=function(e,t,n){var a=[];return t=m(t,n),f.each(e,function(e,n,i){t(e,n,i)&&a.push(e)}),a},f.reject=function(e,t,n){return f.filter(e,f.negate(m(t)),n)},f.every=f.all=function(e,t,n){t=m(t,n);for(var a=!T(e)&&f.keys(e),i=(a||e).length,r=0;i>r;r++){var o=a?a[r]:r;if(!t(e[o],o,e))return!1}return!0},f.some=f.any=function(e,t,n){t=m(t,n);for(var a=!T(e)&&f.keys(e),i=(a||e).length,r=0;i>r;r++){var o=a?a[r]:r;if(t(e[o],o,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,n,a){return T(e)||(e=f.values(e)),("number"!=typeof n||a)&&(n=0),f.indexOf(e,t,n)>=0},f.invoke=v(function(e,t,n){var a,i;return f.isFunction(t)?i=t:f.isArray(t)&&(a=t.slice(0,-1),t=t[t.length-1]),f.map(e,function(e){var r=i;if(!r){if(a&&a.length&&(e=w(e,a)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)})}),f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,t,n){var a,i,r=-(1/0),o=-(1/0);if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=T(e)?e:f.values(e);for(var s=0,l=e.length;l>s;s++)a=e[s],null!=a&&a>r&&(r=a)}else t=m(t,n),f.each(e,function(e,n,a){i=t(e,n,a),(i>o||i===-(1/0)&&r===-(1/0))&&(r=e,o=i)});return r},f.min=function(e,t,n){var a,i,r=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=T(e)?e:f.values(e);for(var s=0,l=e.length;l>s;s++)a=e[s],null!=a&&r>a&&(r=a)}else t=m(t,n),f.each(e,function(e,n,a){i=t(e,n,a),(o>i||i===1/0&&r===1/0)&&(r=e,o=i)});return r},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,t,n){if(null==t||n)return T(e)||(e=f.values(e)),e[f.random(e.length-1)];var a=T(e)?f.clone(e):f.values(e),i=k(a);t=Math.max(Math.min(t,i),0);for(var r=i-1,o=0;t>o;o++){var s=f.random(o,r),l=a[o];a[o]=a[s],a[s]=l}return a.slice(0,t)},f.sortBy=function(e,t,n){var a=0;return t=m(t,n),f.pluck(f.map(e,function(e,n,i){return{value:e,index:a++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(a>n||void 0===a)return-1}return e.index-t.index}),"value")};var S=function(e,t){return function(n,a,i){var r=t?[[],[]]:{};return a=m(a,i),f.each(n,function(t,i){var o=a(t,i,n);e(r,t,o)}),r}};f.groupBy=S(function(e,t,n){$(e,n)?e[n].push(t):e[n]=[t]}),f.indexBy=S(function(e,t,n){e[n]=t}),f.countBy=S(function(e,t,n){$(e,n)?e[n]++:e[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?o.call(e):f.isString(e)?e.match(E):T(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:T(e)?e.length:f.keys(e).length},f.partition=S(function(e,t,n){e[n?0:1].push(t)},!0),f.first=f.head=f.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},f.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},f.compact=function(e){return f.filter(e,Boolean)};var I=function(e,t,n,a){a=a||[];for(var i=a.length,r=0,o=k(e);o>r;r++){var s=e[r];if(T(s)&&(f.isArray(s)||f.isArguments(s)))if(t)for(var l=0,c=s.length;c>l;)a[i++]=s[l++];else I(s,t,n,a),i=a.length;else n||(a[i++]=s)}return a};f.flatten=function(e,t){return I(e,t,!1)},f.without=v(function(e,t){return f.difference(e,t)}),f.uniq=f.unique=function(e,t,n,a){f.isBoolean(t)||(a=n,n=t,t=!1),null!=n&&(n=m(n,a));for(var i=[],r=[],o=0,s=k(e);s>o;o++){var l=e[o],c=n?n(l,o,e):l;t&&!n?(o&&r===c||i.push(l),r=c):n?f.contains(r,c)||(r.push(c),i.push(l)):f.contains(i,l)||i.push(l)}return i},f.union=v(function(e){return f.uniq(I(e,!0,!0))}),f.intersection=function(e){for(var t=[],n=arguments.length,a=0,i=k(e);i>a;a++){var r=e[a];if(!f.contains(t,r)){var o;for(o=1;n>o&&f.contains(arguments[o],r);o++);o===n&&t.push(r)}}return t},f.difference=v(function(e,t){return t=I(t,!0,!0),f.filter(e,function(e){return!f.contains(t,e)})}),f.unzip=function(e){for(var t=e&&f.max(e,k).length||0,n=Array(t),a=0;t>a;a++)n[a]=f.pluck(e,a);return n},f.zip=v(f.unzip),f.object=function(e,t){for(var n={},a=0,i=k(e);i>a;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n};var M=function(e){return function(t,n,a){n=m(n,a);for(var i=k(t),r=e>0?0:i-1;r>=0&&i>r;r+=e)if(n(t[r],r,t))return r;return-1}};f.findIndex=M(1),f.findLastIndex=M(-1),f.sortedIndex=function(e,t,n,a){n=m(n,a,1);for(var i=n(t),r=0,o=k(e);o>r;){var s=Math.floor((r+o)/2);n(e[s])<i?r=s+1:o=s}return r};var D=function(e,t,n){return function(a,i,r){var s=0,l=k(a);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+l,s):l=r>=0?Math.min(r+1,l):r+l+1;else if(n&&r&&l)return r=n(a,i),a[r]===i?r:-1;if(i!==i)return r=t(o.call(a,s,l),f.isNaN),r>=0?r+s:-1;for(r=e>0?s:l-1;r>=0&&l>r;r+=e)if(a[r]===i)return r;return-1}};f.indexOf=D(1,f.findIndex,f.sortedIndex),f.lastIndexOf=D(-1,f.findLastIndex),f.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=e>t?-1:1);for(var a=Math.max(Math.ceil((t-e)/n),0),i=Array(a),r=0;a>r;r++,e+=n)i[r]=e;return i},f.chunk=function(e,t){if(null==t||1>t)return[];for(var n=[],a=0,i=e.length;i>a;)n.push(o.call(e,a,a+=t));return n};var A=function(e,t,n,a,i){if(!(a instanceof t))return e.apply(n,i);var r=b(e.prototype),o=e.apply(r,i);return f.isObject(o)?o:r};f.bind=v(function(e,t,n){if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var a=v(function(i){return A(e,a,t,this,n.concat(i))});return a}),f.partial=v(function(e,t){var n=f.partial.placeholder,a=function(){for(var i=0,r=t.length,o=Array(r),s=0;r>s;s++)o[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return A(e,a,this,this,o)};return a}),f.partial.placeholder=f,f.bindAll=v(function(e,t){t=I(t,!1,!1);var n=t.length;if(1>n)throw new Error("bindAll must be passed function names");for(;n--;){var a=t[n];e[a]=f.bind(e[a],e)}}),f.memoize=function(e,t){var n=function(a){var i=n.cache,r=""+(t?t.apply(this,arguments):a);return $(i,r)||(i[r]=e.apply(this,arguments)),i[r]};return n.cache={},n},f.delay=v(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(e,t,n){var a,i,r,o,s=0;n||(n={});var l=function(){s=n.leading===!1?0:f.now(),a=null,o=e.apply(i,r),a||(i=r=null)},c=function(){var c=f.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,r=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(a),s=0,a=i=r=null},c},f.debounce=function(e,t,n){var a,i,r=function(t,n){a=null,n&&(i=e.apply(t,n))},o=v(function(o){if(a&&clearTimeout(a),n){var s=!a;a=setTimeout(r,t),s&&(i=e.apply(this,o))}else a=f.delay(r,t,this,o);return i});return o.cancel=function(){clearTimeout(a),a=null},o},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}},f.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},f.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},f.once=f.partial(f.before,2),f.restArguments=v;var O=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,t){var n=P.length,i=e.constructor,r=f.isFunction(i)&&i.prototype||a,o="constructor";for($(e,o)&&!f.contains(t,o)&&t.push(o);n--;)o=P[n],o in e&&e[o]!==r[o]&&!f.contains(t,o)&&t.push(o)};f.keys=function(e){if(!f.isObject(e))return[];if(u)return u(e);var t=[];for(var n in e)$(e,n)&&t.push(n);return O&&R(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&R(e,t),t},f.values=function(e){for(var t=f.keys(e),n=t.length,a=Array(n),i=0;n>i;i++)a[i]=e[t[i]];return a},f.mapObject=function(e,t,n){t=m(t,n);for(var a=f.keys(e),i=a.length,r={},o=0;i>o;o++){var s=a[o];r[s]=t(e[s],s,e)}return r},f.pairs=function(e){for(var t=f.keys(e),n=t.length,a=Array(n),i=0;n>i;i++)a[i]=[t[i],e[t[i]]];return a},f.invert=function(e){for(var t={},n=f.keys(e),a=0,i=n.length;i>a;a++)t[e[n[a]]]=n[a];return t},f.functions=f.methods=function(e){var t=[];for(var n in e)f.isFunction(e[n])&&t.push(n);return t.sort()};var j=function(e,t){return function(n){var a=arguments.length;if(t&&(n=Object(n)),2>a||null==n)return n;for(var i=1;a>i;i++)for(var r=arguments[i],o=e(r),s=o.length,l=0;s>l;l++){var c=o[l];t&&void 0!==n[c]||(n[c]=r[c])}return n}};f.extend=j(f.allKeys),f.extendOwn=f.assign=j(f.keys),f.findKey=function(e,t,n){t=m(t,n);for(var a,i=f.keys(e),r=0,o=i.length;o>r;r++)if(a=i[r],t(e[a],a,e))return a};var N=function(e,t,n){return t in n};f.pick=v(function(e,t){var n={},a=t[0];if(null==e)return n;f.isFunction(a)?(t.length>1&&(a=g(a,t[1])),t=f.allKeys(e)):(a=N,t=I(t,!1,!1),e=Object(e));for(var i=0,r=t.length;r>i;i++){var o=t[i],s=e[o];a(s,o,e)&&(n[o]=s)}return n}),f.omit=v(function(e,t){var n,a=t[0];return f.isFunction(a)?(a=f.negate(a),t.length>1&&(n=t[1])):(t=f.map(I(t,!1,!1),String),a=function(e,n){return!f.contains(t,n)}),f.pick(e,a,n)}),f.defaults=j(f.allKeys,!0),f.create=function(e,t){var n=b(e);return t&&f.extendOwn(n,t),n},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var n=f.keys(t),a=n.length;if(null==e)return!a;for(var i=Object(e),r=0;a>r;r++){var o=n[r];if(t[o]!==i[o]||!(o in i))return!1}return!0};var q,U;q=function(e,t,n,a){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return"function"!==i&&"object"!==i&&"object"!=typeof t?!1:U(e,t,n,a)},U=function(e,t,n,a){e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var r=s.call(e);if(r!==s.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(f.isFunction(l)&&l instanceof l&&f.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],a=a||[];for(var u=n.length;u--;)if(n[u]===e)return a[u]===t;if(n.push(e),a.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!q(e[u],t[u],n,a))return!1}else{var p,d=f.keys(e);if(u=d.length,f.keys(t).length!==u)return!1;for(;u--;)if(p=d[u],!$(t,p)||!q(e[p],t[p],n,a))return!1}return n.pop(),a.pop(),!0},f.isEqual=function(e,t){return q(e,t)},f.isEmpty=function(e){return null==e?!0:T(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=c||function(e){return"[object Array]"===s.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){f["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return $(e,"callee")});var B=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof B&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===s.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){if(!f.isArray(t))return $(e,t);for(var n=t.length,a=0;n>a;a++){var i=t[a];if(null==e||!l.call(e,i))return!1;e=e[i]}return!!n},f.noConflict=function(){return e._=t,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return f.isArray(e)?function(t){return w(t,e)}:y(e)},f.propertyOf=function(e){return null==e?function(){}:function(t){return f.isArray(t)?w(e,t):e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(e,t,n){var a=Array(Math.max(0,e));t=g(t,n,1);for(var i=0;e>i;i++)a[i]=t(i);return a},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=f.invert(L),_=function(e){var t=function(t){return e[t]},n="(?:"+f.keys(e).join("|")+")",a=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,t):e}};f.escape=_(L),f.unescape=_(F),f.result=function(e,t,n){f.isArray(t)||(t=[t]);var a=t.length;if(!a)return f.isFunction(n)?n.call(e):n;for(var i=0;a>i;i++){var r=null==e?void 0:e[t[i]];void 0===r&&(r=n,i=a),e=f.isFunction(r)?r.call(e):r}return e};var H=0;f.uniqueId=function(e){var t=++H+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,K=function(e){return"\\"+W[e]};f.template=function(e,t,n){!t&&n&&(t=n),t=f.defaults({},t,f.templateSettings);var a=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),i=0,r="__p+='";e.replace(a,function(t,n,a,o,s){return r+=e.slice(i,s).replace(z,K),i=s+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?r+="'+\n((__t=("+a+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),
r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";var o;try{o=new Function(t.variable||"obj","_",r)}catch(s){throw s.source=r,s}var l=function(e){return o.call(this,e,f)},c=t.variable||"obj";return l.source="function("+c+"){\n"+r+"}",l},f.chain=function(e){var t=f(e);return t._chain=!0,t};var G=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){return f.each(f.functions(e),function(t){var n=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),G(this,n.apply(f,e))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];f.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],G(this,n)}}),f.each(["concat","join","slice"],function(e){var t=n[e];f.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}(),define("libs/underscore-1.9.1",function(){});var ALGOLIA_VERSION="2.5.2",AlgoliaSearch=function(e,t,n,a,i){var r=this;this.applicationID=e,this.apiKey=t,this._isUndefined(i)&&(i=[e+"-1.algolia.io",e+"-2.algolia.io",e+"-3.algolia.io"]),this.hosts=[];for(var o=0;o<i.length;++o)Math.random()>.5&&this.hosts.reverse(),this.hosts.push(this._isUndefined(n)||null==n?("https:"==document.location.protocol?"https":"http")+"://"+i[o]:"https"===n||"HTTPS"===n?"https://"+i[o]:"http://"+i[o]);Math.random()>.5&&this.hosts.reverse(),this.jsonp=null,this.jsonpWait=0,this._jsonRequest({method:"GET",url:"/1/isalive",callback:function(e){r.jsonp=!e}}),this.extraHeaders=[]};AlgoliaSearch.prototype={deleteIndex:function(e,t){this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),callback:t})},moveIndex:function(e,t,n){var a={operation:"move",destination:t};this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:a,callback:n})},copyIndex:function(e,t,n){var a={operation:"copy",destination:t};this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:a,callback:n})},getLogs:function(e,t,n){this._isUndefined(t)&&(t=0),this._isUndefined(n)&&(n=10),this._jsonRequest({method:"GET",url:"/1/logs?offset="+t+"&length="+n,callback:e})},listIndexes:function(e){this._jsonRequest({method:"GET",url:"/1/indexes",callback:e})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){this._jsonRequest({method:"GET",url:"/1/keys",callback:e})},getUserKeyACL:function(e,t){this._jsonRequest({method:"GET",url:"/1/keys/"+e,callback:t})},deleteUserKey:function(e,t){this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,callback:t})},addUserKey:function(e,t){var n={};n.acl=e,this._jsonRequest({method:"POST",url:"/1/keys",body:n,callback:t})},addUserKeyWithValidity:function(e,t,n,a,i){var r=this,o={};o.acl=e,o.validity=t,o.maxQueriesPerIPPerHour=n,o.maxHitsPerQuery=a,this._jsonRequest({method:"POST",url:"/1/indexes/"+r.indexName+"/keys",body:o,callback:i})},setSecurityTags:function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var a=[],i=0;i<e[n].length;++i)a.push(e[n][i]);t.push("("+a.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.tagFilters=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:function(){this.batch=[]},addQueryInBatch:function(e,t,n){var a="query="+encodeURIComponent(t);this._isUndefined(n)||null==n||(a=this._getSearchParams(n,a)),this.batch.push({indexName:e,params:a})},clearCache:function(){this.cache={}},sendQueriesBatch:function(e,t){var n=this,a={requests:[],apiKey:this.apiKey,appID:this.applicationID};this.userToken&&(a["X-Algolia-UserToken"]=this.userToken),this.tagFilters&&(a["X-Algolia-TagFilters"]=this.tagFilters);for(var i=0;i<n.batch.length;++i)a.requests.push(n.batch[i]);if(window.clearTimeout(n.onDelayTrigger),!this._isUndefined(t)&&null!=t&&t>0){var r=window.setTimeout(function(){n._sendQueriesBatch(a,e)},t);n.onDelayTrigger=r}else this._sendQueriesBatch(a,e)},Index:function(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null},setExtraHeader:function(e,t){this.extraHeaders.push({key:e,value:t})},_sendQueriesBatch:function(e,t){if(null==this.jsonp){var n=this;return void this._waitReady(function(){n._sendQueriesBatch(e,t)})}if(this.jsonp){for(var a="",i=0;i<e.requests.length;++i){var r="/1/indexes/"+encodeURIComponent(e.requests[i].indexName)+"?"+e.requests[i].params;a+=i+"="+encodeURIComponent(r)+"&"}this._jsonRequest({cache:this.cache,method:"GET",jsonp:!0,url:"/1/indexes/*",body:{params:a},callback:t})}else this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,callback:t})},_jsonRequest:function(e){var t=this,n=e.callback,a=null,i=e.url;if(this._isUndefined(e.body)||(i=e.url+"_body_"+JSON.stringify(e.body)),!this._isUndefined(e.cache)&&(a=e.cache,!this._isUndefined(a[i])))return void(this._isUndefined(n)||n(!0,a[i]));var r=function(o){var s=0;return t._isUndefined(o)||(s=o),t.hosts.length<=s?void(t._isUndefined(n)||n(!1,{message:"Cannot contact server"})):(e.callback=function(o,l,c,u){l||t._isUndefined(u)||window.console&&console.log("Error: "+u.message),l&&!t._isUndefined(e.cache)&&(a[i]=u),!l&&o&&s+1<t.hosts.length?r(s+1):t._isUndefined(n)||n(l,u)},e.hostname=t.hosts[s],void t._jsonRequestByHost(e))};r()},_jsonRequestByHost:function(e){var t=this,n=e.hostname+e.url;if(this.jsonp){if(!e.jsonp)return void e.callback(!0,!1,null,{message:"Method "+e.method+" "+n+" is not supported by JSONP."});this.jsonpCounter=this.jsonpCounter||0,this.jsonpCounter+=1;var a="algoliaJSONP_"+this.jsonpCounter;window[a]=function(t){e.callback(!1,!0,null,t);try{delete window[a]}catch(n){window[a]=void 0}};var i=document.createElement("script");i.type="text/javascript",i.src=n+"?callback="+a+","+this.applicationID+","+this.apiKey,e["X-Algolia-TagFilters"]&&(i.src+="&X-Algolia-TagFilters="+e["X-Algolia-TagFilters"]),e["X-Algolia-UserToken"]&&(i.src+="&X-Algolia-UserToken="+e["X-Algolia-UserToken"]),e.body&&e.body.params&&(i.src+="&"+e.body.params);var r=document.getElementsByTagName("head")[0];i.onerror=function(){e.callback(!0,!1,null,{message:"Failed to load JSONP script."}),r.removeChild(i);try{delete window[a]}catch(t){window[a]=void 0}};var o=!1;i.onload=i.onreadystatechange=function(){if(!(o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState)){if(o=!0,"undefined"==typeof window[a+"_loaded"]){e.callback(!0,!1,null,{message:"Failed to load JSONP script."});try{delete window[a]}catch(t){window[a]=void 0}}else try{delete window[a+"_loaded"]}catch(t){window[a+"_loaded"]=void 0}i.onload=i.onreadystatechange=null,r.removeChild(i)}},r.appendChild(i)}else{var s=null;this._isUndefined(e.body)||(s=JSON.stringify(e.body));var l=window.XMLHttpRequest?new XMLHttpRequest:{};if("withCredentials"in l){l.open(e.method,n,!0),l.setRequestHeader("X-Algolia-API-Key",this.apiKey),l.setRequestHeader("X-Algolia-Application-Id",this.applicationID);for(var c=0;c<this.extraHeaders.length;++c)l.setRequestHeader(this.extraHeaders[c].key,this.extraHeaders[c].value);null!=s&&l.setRequestHeader("Content-type","application/json")}else{if("undefined"==typeof XDomainRequest)return window.console&&console.log("Your browser is too old to support CORS requests"),void e.callback(!1,!1,null,{message:"CORS not supported"});l=new XDomainRequest,l.open(e.method,n)}l.send(s),l.onload=function(n){if(t._isUndefined(n)||null==n.target)e.callback(!1,!0,n,JSON.parse(l.responseText));else{var a=0===n.target.status||503===n.target.status,i=200===n.target.status||201===n.target.status;e.callback(a,i,n.target,null!=n.target.response?JSON.parse(n.target.response):null)}},l.onerror=function(t){e.callback(!0,!1,null,{message:"Could not connect to host",error:t})}}},_waitReady:function(e){null==this.jsonp&&(this.jsonpWait+=100,this.jsonpWait>2e3&&(this.jsonp=!0),setTimeout(e,100))},_getSearchParams:function(e,t){if(this._isUndefined(e)||null==e)return t;for(var n in e)null!=n&&e.hasOwnProperty(n)&&(t+=0===t.length?"?":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?JSON.stringify(e[n]):e[n]));return t},_isUndefined:function(e){return void 0===e},applicationID:null,apiKey:null,tagFilters:null,userToken:null,hosts:[],cache:{},extraHeaders:[]},AlgoliaSearch.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,n){var a=this;this.as._jsonRequest(this.as._isUndefined(n)?{method:"POST",url:"/1/indexes/"+encodeURIComponent(a.indexName),body:e,callback:t}:{method:"PUT",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/"+encodeURIComponent(n),body:e,callback:t})},addObjects:function(e,t){for(var n=this,a={requests:[]},i=0;i<e.length;++i){var r={action:"addObject",body:e[i]};a.requests.push(r)}this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/batch",body:a,callback:t})},getObject:function(e,t,n){if(null==this.as.jsonp){var a=this;return void this.as._waitReady(function(){a.getObject(e,t,n)})}var i=this,r="";if(!this.as._isUndefined(n)){r="?attributes=";for(var o=0;o<n.length;++o)0!==o&&(r+=","),r+=n[o]}this.as._jsonRequest({method:"GET",jsonp:!0,url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/"+encodeURIComponent(e)+r,callback:t})},partialUpdateObject:function(e,t){var n=this;this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,callback:t})},partialUpdateObjects:function(e,t){for(var n=this,a={requests:[]},i=0;i<e.length;++i){var r={action:"partialUpdateObject",objectID:e[i].objectID,body:e[i]};a.requests.push(r)}this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/batch",body:a,callback:t})},saveObject:function(e,t){var n=this;this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e.objectID),body:e,callback:t})},saveObjects:function(e,t){for(var n=this,a={requests:[]},i=0;i<e.length;++i){var r={action:"updateObject",objectID:e[i].objectID,body:e[i]};a.requests.push(r)}this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/batch",body:a,callback:t})},deleteObject:function(e,t){if(null==e||0===e.length)return void t(!1,{message:"empty objectID"});var n=this;this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e),callback:t})},search:function(e,t,n,a){var i=this,r="query="+encodeURIComponent(e);if(this.as._isUndefined(n)||null==n||(r=this.as._getSearchParams(n,r)),window.clearTimeout(i.onDelayTrigger),!this.as._isUndefined(a)&&null!=a&&a>0){var o=window.setTimeout(function(){i._search(r,t)},a);i.onDelayTrigger=o}else this._search(r,t)},browse:function(e,t,n){var a=this,i="?page="+e;_.isUndefined(n)||(i+="&hitsPerPage="+n),this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/browse"+i,callback:t})},ttAdapter:function(e){var t=this;return function(n,a){t.search(n,function(e,t){e&&a(t.hits)},e)}},waitTask:function(e,t){var n=this;this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/task/"+e,callback:function(a,i){a?"published"===i.status?t(!0,i):setTimeout(function(){n.waitTask(e,t)},100):t(!1,i)}})},clearIndex:function(e){var t=this;this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",callback:e})},getSettings:function(e){var t=this;this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",callback:e})},setSettings:function(e,t){var n=this;this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/settings",body:e,callback:t})},listUserKeys:function(e){var t=this;this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",callback:e})},getUserKeyACL:function(e,t){var n=this;this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,callback:t})},deleteUserKey:function(e,t){var n=this;this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys/"+e,callback:t})},addUserKey:function(e,t){var n=this,a={};a.acl=e,this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/keys",body:a,callback:t})},addUserKeyWithValidity:function(e,t,n,a,i){var r=this,o={};o.acl=e,o.validity=t,o.maxQueriesPerIPPerHour=n,o.maxHitsPerQuery=a,this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/keys",body:o,callback:i})},_search:function(e,t){if(null==this.as.jsonp){var n=this;return void this.as._waitReady(function(){n._search(e,t)})}var a={params:e,apiKey:this.as.apiKey,appID:this.as.applicationID};this.as.tagFilters&&(a["X-Algolia-TagFilters"]=this.as.tagFilters),this.as.userToken&&(a["X-Algolia-UserToken"]=this.as.userToken),this.as._jsonRequest(this.as.jsonp?{cache:this.cache,method:"GET",jsonp:!0,url:"/1/indexes/"+encodeURIComponent(this.indexName),body:a,callback:t}:{cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:a,callback:t})},as:null,indexName:null,cache:{},typeAheadArgs:null,typeAheadValueOption:null,emptyConstructor:function(){}},function(){var e=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e};window.AlgoliaSearchHelper=function(t,n,a){var i={facets:[],disjunctiveFacets:[],hitsPerPage:20};this.init(t,n,e({},i,a))},AlgoliaSearchHelper.prototype={init:function(e,t,n){this.client=e,this.index=t,this.options=n,this.page=0,this.refinements={},this.disjunctiveRefinements={}},search:function(e,t,n){this.q=e,this.searchCallback=t,this.searchParams=n||{},this.page=this.page||0,this.refinements=this.refinements||{},this.disjunctiveRefinements=this.disjunctiveRefinements||{},this._search()},clearRefinements:function(){this.disjunctiveRefinements={},this.refinements={}},addDisjunctiveRefine:function(e,t){this.disjunctiveRefinements=this.disjunctiveRefinements||{},this.disjunctiveRefinements[e]=this.disjunctiveRefinements[e]||{},this.disjunctiveRefinements[e][t]=!0},removeDisjunctiveRefine:function(e,t){this.disjunctiveRefinements=this.disjunctiveRefinements||{},this.disjunctiveRefinements[e]=this.disjunctiveRefinements[e]||{};try{delete this.disjunctiveRefinements[e][t]}catch(n){this.disjunctiveRefinements[e][t]=void 0}},addRefine:function(e,t){var n=e+":"+t;this.refinements=this.refinements||{},this.refinements[n]=!0},removeRefine:function(e,t){var n=e+":"+t;this.refinements=this.refinements||{},this.refinements[n]=!1},toggleRefine:function(e,t){for(var n=0;n<this.options.facets.length;++n)if(this.options.facets[n]==e){var a=e+":"+t;return this.refinements[a]=!this.refinements[a],this.page=0,this._search(),!0}this.disjunctiveRefinements[e]=this.disjunctiveRefinements[e]||{};for(var i=0;i<this.options.disjunctiveFacets.length;++i)if(this.options.disjunctiveFacets[i]==e)return this.disjunctiveRefinements[e][t]=!this.disjunctiveRefinements[e][t],this.page=0,this._search(),!0;return!1},isRefined:function(e,t){var n=e+":"+t;return this.refinements[n]?!0:this.disjunctiveRefinements[e]&&this.disjunctiveRefinements[e][t]?!0:!1},nextPage:function(){this._gotoPage(this.page+1)},previousPage:function(){this.page>0&&this._gotoPage(this.page-1)},gotoPage:function(e){this._gotoPage(e)},setPage:function(e){this.page=e},_gotoPage:function(e){this.page=e,this._search()},_search:function(){this.client.startQueriesBatch(),this.client.addQueryInBatch(this.index,this.q,this._getHitsSearchParams());for(var e=0;e<this.options.disjunctiveFacets.length;++e)this.client.addQueryInBatch(this.index,this.q,this._getDisjunctiveFacetSearchParams(this.options.disjunctiveFacets[e]));var t=this;this.client.sendQueriesBatch(function(e,n){if(!e)return void t.searchCallback(!1,n);var a=n.results[0];a.disjunctiveFacets={},a.facetStats={};for(var i=1;i<n.results.length;++i){for(var r in n.results[i].facets)if(a.disjunctiveFacets[r]=n.results[i].facets[r],t.disjunctiveRefinements[r])for(var o in t.disjunctiveRefinements[r])!a.disjunctiveFacets[r][o]&&t.disjunctiveRefinements[r][o]&&(a.disjunctiveFacets[r][o]=0);for(var s in n.results[i].facets_stats)a.facetStats[s]=n.results[i].facets_stats[s]}t.searchCallback(!0,a)})},_getHitsSearchParams:function(){return e({},this.searchParams,{hitsPerPage:this.options.hitsPerPage,page:this.page,facets:this.options.facets,facetFilters:this._getFacetFilters()})},_getDisjunctiveFacetSearchParams:function(t){return e({},this.searchParams,{hitsPerPage:1,page:0,facets:t,facetFilters:this._getFacetFilters(t)})},_getFacetFilters:function(e){var t=[];for(var n in this.refinements)this.refinements[n]&&t.push(n);for(var a in this.disjunctiveRefinements)if(a!=e){var i=[];for(var r in this.disjunctiveRefinements[a])this.disjunctiveRefinements[a][r]&&i.push(a+":"+r);i.length>0&&t.push(i)}return t}}}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,a,i,r,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)o[n]=str(n,l)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(a=rep[n],i=str(a,l),i&&o.push(quote(a)+(gap?": ":":")+i));else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(i=str(a,l),i&&o.push(quote(a)+(gap?": ":":")+i));return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var a;if(gap="",indent="","number"==typeof n)for(a=0;n>a;a+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,a,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a=walk(i,n),void 0!==a?i[n]=a:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("libs/algolia-2.5.2",function(){}),function(e,t,n){"use strict";e.map(["localStorage","sessionStorage"],function(a){var i={cookiePrefix:"fallback:"+a+":",cookieOptions:{path:"/",domain:n.domain,expires:"localStorage"===a?{expires:365}:void 0}};try{e.support[a]=a in t&&null!==t[a]}catch(r){e.support[a]=!1}e[a]=function(r,o){var s=e.extend({},i,e[a].options);return this.getItem=function(n){var i=function(n){return JSON.parse(e.support[a]?t[a].getItem(n):e.cookie(s.cookiePrefix+n))};if("string"==typeof n)return i(n);for(var r=[],o=n.length;o--;)r[o]=i(n[o]);return r},this.setItem=function(n,i){return i=JSON.stringify(i),e.support[a]?t[a].setItem(n,i):e.cookie(s.cookiePrefix+n,i,s.cookieOptions)},this.removeItem=function(n){return e.support[a]?t[a].removeItem(n):e.cookie(s.cookiePrefix+n,null,e.extend(s.cookieOptions,{expires:-1}))},this.clear=function(){if(e.support[a])return t[a].clear();var i=new RegExp("^"+s.cookiePrefix,""),r=e.extend(s.cookieOptions,{expires:-1});n.cookie&&""!==n.cookie&&e.map(n.cookie.split(";"),function(t){i.test(t=e.trim(t))&&e.cookie(t.substr(0,t.indexOf("=")),null,r)})},"undefined"!=typeof r?"undefined"!=typeof o?null===o?this.removeItem(r):this.setItem(r,o):this.getItem(r):this},e[a].options=i})}(jQuery,window,document),define("libs/jquery.storage",function(){}),function(e,t){"use strict";function n(){function n(e,t){var n,a={},i=e.split(",");for(n=0;n<i.length;n++)a[t?l(i[n]):i[n]]=!0;return a}function a(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),$.innerHTML=t;var a=5;do{if(0===a)throw f("uinput","Failed to sanitize html because the input is unstable");a--,e.document.documentMode&&v($),t=$.innerHTML,$.innerHTML=t}while(t!==$.innerHTML);for(var i=$.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),h(i.attributes));break;case 3:n.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1===i.nodeType&&n.end(i.nodeName.toLowerCase()),r=b("nextSibling",i),!r))for(;null==r&&(i=b("parentNode",i),i!==$);)r=b("nextSibling",i),1===i.nodeType&&n.end(i.nodeName.toLowerCase());i=r}for(;i=$.firstChild;)$.removeChild(i)}function h(e){for(var t={},n=0,a=e.length;a>n;n++){var i=e[n];t[i.name]=i.value}return t}function g(e){return e.replace(/&/g,"&amp;").replace(w,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(x,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,a=i(e,e.push);return{start:function(e,i){e=l(e),!n&&D[e]&&(n=e),n||A[e]!==!0||(a("<"),a(e),o(i,function(n,i){var r=l(i),o="img"===e&&"src"===r||"background"===r;j[r]!==!0||O[r]===!0&&!t(n,o)||(a(" "),a(i),a('="'),a(g(n)),a('"'))}),a(">"))},end:function(e){e=l(e),n||A[e]!==!0||k[e]===!0||(a("</"),a(e),a(">")),e==n&&(n=!1)},chars:function(e){n||a(g(e))}}}function v(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,a=0,i=n.length;i>a;a++){var r=n[a],o=r.name.toLowerCase();("xmlns:ns1"===o||0===o.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(r),a--,i--)}var s=t.firstChild;s&&v(s),t=b("nextSibling",t)}}function b(e,t){var n=t[e];if(n&&u.call(t,n))throw f("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var y=!1;this.$get=["$$sanitizeUri",function(e){return y&&r(A,M),function(t){var n=[];return p(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(y=e,this):y},i=t.bind,r=t.extend,o=t.forEach,s=t.isDefined,l=t.lowercase,c=t.noop,p=a,d=m,u=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var $,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^#-~ |!])/g,k=n("area,br,col,hr,img,wbr"),T=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=n("rp,rt"),S=r({},C,T),E=r({},T,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),I=r({},C,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),M=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),D=n("script,style"),A=r({},k,E,I,S),O=n("background,cite,href,longdesc,src,xlink:href"),P=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),R=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),j=r({},O,R,P);!function(e){var t;if(!e.document||!e.document.implementation)throw f("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),a=n.getElementsByTagName("body");if(1===a.length)$=a[0];else{var i=t.createElement("html");$=t.createElement("body"),i.appendChild($),t.appendChild(i)}}(e)}function a(e){var t=[],n=d(t,c);return n.chars(e),t.join("")}var i,r,o,s,l,c,u,p,d,f=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.4"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,p){function d(e){e&&y.push(a(e))}function f(e,t){var n,a=v(e);y.push("<a ");for(n in a)y.push(n+'="'+a[n]+'" ');!o(u)||"target"in a||y.push('target="',u,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),d(t),y.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw r("notstring","Expected string but received: {0}",t);for(var h,g,m,v=s(p)?p:l(p)?function(){return p}:function(){return{}},b=t,y=[];h=b.match(n);)g=h[0],h[2]||h[4]||(g=(h[3]?"http://":"mailto:")+g),m=h.index,d(b.substr(0,m)),f(g,h[0].replace(i,"")),b=b.substring(m+h[0].length);return d(b),e(y.join(""))}}])}(window,window.angular),define("libs/angular-sanitize-1.6.4",function(){}),angular.module("ivpusic.cookie",["ipCookie"]),angular.module("ipCookie",["ng"]).factory("ipCookie",["$document",function(e){"use strict";return function(){function t(t,n,a){var i,r,o,s,l,c,u,p,d;if(a=a||{},void 0!==n)return n="object"==typeof n?JSON.stringify(n):String(n),"number"==typeof a.expires&&(d=a.expires,a.expires=new Date,-1===d?a.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==a.expirationUnit?"hours"===a.expirationUnit?a.expires.setHours(a.expires.getHours()+d):"minutes"===a.expirationUnit?a.expires.setMinutes(a.expires.getMinutes()+d):"seconds"===a.expirationUnit?a.expires.setSeconds(a.expires.getSeconds()+d):a.expires.setDate(a.expires.getDate()+d):a.expires.setDate(a.expires.getDate()+d)),e[0].cookie=[encodeURIComponent(t),"=",encodeURIComponent(n),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("");for(r=[],p=e[0].cookie,p&&(r=p.split("; ")),i={},u=!1,o=0;o<r.length;++o)if(r[o]&&(s=r[o],l=s.indexOf("="),c=s.substring(0,l),n=decodeURIComponent(s.substring(l+1)),void 0===t||t===c)){try{i[c]=JSON.parse(n)}catch(f){i[c]=n}if(t===c)return i[c];u=!0}return u&&void 0===t?i:void 0}return t.remove=function(e,n){var a=void 0!==t(e);return a&&(n||(n={}),n.expires=-1,t(e,"",n)),a},t}()}]),define("libs/angular-cookie",function(){}),!function(e,t,n){"use strict";var a=n.PassField=n.PassField||{};a.Config=a.Config||{},a.Config.locales={en:{lower:!0,msg:{pass:"password",and:"and",showPass:"Show password",hidePass:"Hide password",genPass:"Random password",passTooShort:"password is too short (min. length: {})",noCharType:"password must contain {}",digits:"digits",letters:"letters",letters_up:"letters in UPPER case",symbols:"symbols",inBlackList:"password is in list of top used passwords",passRequired:"password is required",equalTo:"password is equal to login",repeat:"password consists of repeating characters",badChars:"password contains bad characters: “{}”",weakWarn:"weak",invalidPassWarn:"*",weakTitle:"This password is weak",generateMsg:"To generate a strong password, click {} button."}},de:{lower:!1,msg:{pass:"Passwort",and:"und",showPass:"Passwort anzeigen",hidePass:"Passwort verbergen",genPass:"Zufallspasswort",passTooShort:"Passwort ist zu kurz (Mindestlänge: {})",noCharType:"Passwort muss {} enthalten",digits:"Ziffern",letters:"Buchstaben",letters_up:"Buchstaben in GROSSSCHRIFT",symbols:"Symbole",inBlackList:"Passwort steht auf der Liste der beliebtesten Passwörter",passRequired:"Passwort wird benötigt",equalTo:"Passwort ist wie Anmeldung",repeat:"Passwort besteht aus sich wiederholenden Zeichen",badChars:"Passwort enthält ungültige Zeichen: “{}”",weakWarn:"Schwach",invalidPassWarn:"*",weakTitle:"Dieses Passwort ist schwach",generateMsg:"Klicken Sie auf den {}-Button, um ein starkes Passwort zu generieren."}},fr:{lower:!0,msg:{pass:"mot de passe",and:"et",showPass:"Montrer le mot de passe",hidePass:"Cacher le mot de passe",genPass:"Mot de passe aléatoire",passTooShort:"le mot de passe est trop court (min. longueur: {})",noCharType:"le mot de passe doit contenir des {}",digits:"chiffres",letters:"lettres",letters_up:"lettres en MAJUSCULES",symbols:"symboles",inBlackList:"le mot de passe est dans la liste des plus utilisés",passRequired:"le mot de passe est requis",equalTo:"le mot de passe est le même que l'identifiant",repeat:"le mot de passe est une répétition de caractères",badChars:"le mot de passe contient des caractères incorrects: “{}”",weakWarn:"faible",invalidPassWarn:"*",weakTitle:"Ce mot de passe est faible",generateMsg:"Pour créer un mot de passe fort cliquez sur le bouton {}."}},it:{lower:!1,msg:{pass:"password",and:"e",showPass:"Mostra password",hidePass:"Nascondi password",genPass:"Password casuale",passTooShort:"la password è troppo breve (lunghezza min.: {})",noCharType:"la password deve contenere {}",digits:"numeri",letters:"lettere",letters_up:"lettere in MAIUSCOLO",symbols:"simboli",inBlackList:"la password è nella lista delle password più usate",passRequired:"è necessaria una password",equalTo:"la password è uguale al login",
repeat:"la password è composta da caratteri che si ripetono",badChars:"la password contiene caratteri non accettati: “{}”",weakWarn:"debole",invalidPassWarn:"*",weakTitle:"Questa password è debole",generateMsg:"Per generare una password forte, clicca sul tasto {}."}},ru:{lower:!0,msg:{pass:"пароль",and:"и",showPass:"Показать пароль",hidePass:"Скрыть пароль",genPass:"Случайный пароль",passTooShort:"пароль слишком короткий (мин. длина: {})",noCharType:"в пароле должны быть {}",digits:"цифры",letters:"буквы",letters_up:"буквы в ВЕРХНЕМ регистре",symbols:"символы",inBlackList:"этот пароль часто используется в Интернете",passRequired:"пароль обязателен",equalTo:"пароль совпадает с логином",repeat:"пароль состоит из повторяющихся символов",badChars:"в пароле есть недопустимые символы: «{}»",weakWarn:"слабый",invalidPassWarn:"*",weakTitle:"Пароль слабый, его легко взломать",generateMsg:"Чтобы сгенерировать пароль, нажмите кнопку {}."}},ua:{lower:!0,msg:{pass:"пароль",and:"i",showPass:"Показати пароль",hidePass:"Сховати пароль",genPass:"Випадковий пароль",passTooShort:"пароль є занадто коротким (мiн. довжина: {})",noCharType:"пароль повинен містити {}",digits:"цифри",letters:"букви",letters_up:"букви у ВЕРХНЬОМУ регістрі",symbols:"cимволи",inBlackList:"пароль входить до списку паролей, що використовуються найчастіше",passRequired:"пароль є обов'язковим",equalTo:"пароль та логін однакові",repeat:"пароль містить повторювані символи",badChars:"пароль містить неприпустимі символи: «{}»",weakWarn:"слабкий",invalidPassWarn:"*",weakTitle:"Цей пароль є слабким",generateMsg:"Щоб ​​створити надійний пароль, натисніть кнопку {}."}},es:{lower:!0,msg:{pass:"contraseña",and:"y",showPass:"Mostrar contraseña",hidePass:"Ocultar contraseña",genPass:"Contraseña aleatoria",passTooShort:"contraseña demasiado corta (longitud mín.: {})",noCharType:"la contraseña debe contener {}",digits:"dígitos",letters:"letras",letters_up:"letras en MAYÚSCULAS",symbols:"símbolos",inBlackList:"la contraseña está en la lista de las contraseñas más usadas",passRequired:"se requiere contraseña",equalTo:"la contraseña es igual al inicio de sesión",repeat:"la contraseña tiene caracteres repetidos",badChars:"la contraseña contiene caracteres no permitidos: “{}”",weakWarn:"débil",invalidPassWarn:"*",weakTitle:"Esta contraseña es débil",generateMsg:"Para generar una contraseña segura, haga clic en el botón de {}."}},el:{lower:!0,msg:{pass:"πρόσβασης",and:"και",showPass:"Προβολή κωδικού πρόσβασης",hidePass:"Απόκρυψη κωδικού πρόσβασης",genPass:"Τυχαίος κωδικός πρόσβασης",passTooShort:"ο κωδικός πρόσβασης είναι πολύ μικρός (ελάχιστο μήκος: {})",noCharType:"ο κωδικός πρόσβασης πρέπει να περιέχει {}",digits:"ψηφία",letters:"λατινικά γράμματα",letters_up:"λατινικά γράμματα με ΚΕΦΑΛΑΙΑ",symbols:"σύμβολα",inBlackList:"ο κωδικός πρόσβασης βρίσκεται σε κατάλογο δημοφιλέστερων κωδικών",passRequired:"απαιτείται κωδικός πρόσβασης",equalTo:"ο κωδικός είναι όμοιος με το όνομα χρήστη",repeat:"ο κωδικός αποτελείται από επαναλαμβανόμενους χαρακτήρες",badChars:"ο κωδικός περιέχει μη επιτρεπτούς χαρακτήρες: “{}”",weakWarn:"αδύναμος",invalidPassWarn:"*",weakTitle:"Αυτός ο κωδικός πρόσβασης είναι αδύναμος",generateMsg:"Για να δημιουργήσετε δυνατό κωδικό πρόσβασης, κάντε κλικ στο κουμπί {}."}},pt:{lower:!0,msg:{pass:"senha",and:"e",showPass:"Mostrar senha",hidePass:"Ocultar senha",genPass:"Senha aleatória",passTooShort:"senha muito curta (tamanho mínimo: {})",noCharType:"Senha deve conter {}",digits:"dígito",letters:"letras",letters_up:"letras maiúsculas",symbols:"símbolos",inBlackList:"senha está na lista das senhas mais usadas",passRequired:"senha é obrigatória",equalTo:"senha igual ao login",repeat:"senha consiste em uma repetição de caracteres",badChars:"senha tem caracteres inválidos: “{}”",weakWarn:"fraca",invalidPassWarn:"*",weakTitle:"Esta senha é fraca",generateMsg:"Para gerar uma senha forte, clique no botão {}."}}}}(window.jQuery,document,window),function(e,t,n,a){"use strict";var i=n.PassField=n.PassField||{};i.CharTypes={DIGIT:"digits",LETTER:"letters",LETTER_UP:"letters_up",SYMBOL:"symbols",UNKNOWN:"unknown"},i.CheckModes={MODERATE:0,STRICT:1},i.Config={defaults:{pattern:"abcdef12",acceptRate:.8,allowEmpty:!0,isMasked:!0,showToggle:!0,showGenerate:!0,showWarn:!0,showTip:!0,tipPopoverStyle:{},strengthCheckTimeout:500,validationCallback:null,blackList:[],locale:"",localeMsg:{},warnMsgClassName:"help-inline",errorWrapClassName:"error",allowAnyChars:!0,checkMode:i.CheckModes.MODERATE,chars:{digits:"1234567890",letters:"abcdefghijklmnopqrstuvwxyzßабвгедёжзийклмнопрстуфхцчшщъыьэюяґєåäâáàãéèêëíìîїóòôõöüúùûýñçøåæþðαβγδεζηθικλμνξοπρσςτυφχψω",letters_up:"ABCDEFGHIJKLMNOPQRSTUVWXYZАБВГЕДЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯҐЄÅÄÂÁÀÃÉÈÊËÍÌÎЇÓÒÔÕÖÜÚÙÛÝÑÇØÅÆÞÐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ",symbols:"@#$%^&*()-_=+[]{};:<>/?!"},events:{generated:null,switched:null},nonMatchField:null,length:{min:null,max:null},maskBtn:{textMasked:"abc",textUnmasked:"&bull;&bull;&bull;",className:!1,classMasked:!1,classUnmasked:!1}},locales:i.Config?i.Config.locales:{},blackList:["password","123456","12345678","abc123","qwerty","monkey","letmein","dragon","111111","baseball","iloveyou","trustno1","1234567","sunshine","master","123123","welcome","shadow","ashley","football","jesus","michael","ninja","mustang","password1","p@ssw0rd","miss","root","secret"],generationChars:{digits:"1234567890",letters:"abcdefghijklmnopqrstuvwxyz",letters_up:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},dataAttr:"PassField.Field"},i.Field=function(o,s){function l(){c(),u()&&(p(),f(),I(),h(),D(),B(Ie.isMasked,!1),_(),ye(i.Config.dataAttr,this))}function c(){Ie.blackList=(Ie.blackList||[]).concat(i.Config.blackList)}function u(){return"string"==typeof o&&(o=t.getElementById(o)),Ee.mainInput=o,!!Ee.mainInput}function p(){var e="en",t=Ie.locale;!t&&navigator.language&&(t=navigator.language.replace(/\-.*/g,"")),t&&($e=Se.locales[t]),$e&&($e=r.extend({},Se.locales[e],$e)),$e||($e=r.extend({},Se.locales[e])),Ie.localeMsg&&r.extend($e.msg,Ie.localeMsg)}function d(e){Ee.mainInput.value=e,Ee.clearInput&&(Ee.clearInput.value=e),P()}function f(){we=Ee.mainInput.id,we||(we="i"+Math.round(1e5*Math.random()),Ee.mainInput.id=we)}function h(){var e=le(Ee.mainInput);e.top+=pe(Ee.mainInput,"marginTop"),g(),m(),v(),b(),y(),$(),w(e),x(e),k(),setTimeout(T,0)}function g(){Ee.wrapper=Ee.mainInput.parentNode,ge(Ee.wrapper,"wrap"),Ce.hasInlineBlock||ge(Ee.wrapper,"wrap-no-ib"),"static"==ue(Ee.wrapper,"position")&&(Ee.wrapper.style.position="relative")}function m(){Ie.length&&Ie.length.max&&Ee.mainInput.setAttribute("maxLength",Ie.length.max.toString())}function v(){if(!Ce.changeType){Ee.clearInput=ne("input",{type:"text",id:"txt-clear",className:"txt-clear",value:Ee.mainInput.value},{display:"none"});var e=Ee.mainInput.className;e&&ge(Ee.clearInput,e,!0);var t=Ee.mainInput.style.cssText;t&&(Ee.clearInput.style.cssText=t),r.each(["maxLength","size","placeholder"],function(e){var t=Ee.mainInput.getAttribute(e);t&&Ee.clearInput.setAttribute(e,t)}),de(Ee.mainInput,Ee.clearInput)}ge(Ee.mainInput,"txt-pass")}function b(){Ie.showWarn&&(Ee.warnMsg=ne("div",{id:"warn",className:"warn"},{margin:"0 0 0 3px"}),Ie.warnMsgClassName&&ge(Ee.warnMsg,Ie.warnMsgClassName,!0),de(Ee.clearInput||Ee.mainInput,Ee.warnMsg))}function y(){Ie.showToggle&&(Ee.maskBtn=ne("div",{id:"btn-mask",className:"btn-mask",title:$e.msg.showPass},{position:"absolute",margin:"0",padding:"0"}),ge(Ee.maskBtn,"btn"),Ie.maskBtn.className&&ge(Ee.maskBtn,Ie.maskBtn.className,!0),Ie.maskBtn.classMasked&&ge(Ee.maskBtn,Ie.maskBtn.classMasked,!0),fe(Ee.maskBtn,Ie.maskBtn.textMasked),de(Ee.mainInput,Ee.maskBtn))}function $(){Ie.showGenerate&&(Ee.genBtn=ne("div",{id:"btn-gen",className:"btn-gen",title:$e.msg.genPass},{position:"absolute",margin:"0",padding:"0"}),ge(Ee.genBtn,"btn"),de(Ee.mainInput,Ee.genBtn),Ee.genBtnInner=ne("div",{id:"btn-gen-i",className:"btn-gen-i",title:$e.msg.genPass}),Ee.genBtn.appendChild(Ee.genBtnInner))}function w(t){if(Ie.showTip)if(Ie.tipPopoverStyle&&e&&"function"==typeof e.fn.popover)e(Ee.mainInput).popover(r.extend({title:null,placement:Ie.tipPopoverStyle.placement||function(t,a){var i=e(a).position().top-e(n).scrollTop(),r=e(n).height()-i;return r>300||r>i?"bottom":"top"},animation:!1},Ie.tipPopoverStyle,{trigger:"manual",html:!0,content:function(){return qe}}));else{Ee.tip=ne("div",{id:"tip",className:"tip"},{position:"absolute",margin:"0",padding:"0",width:t.width+"px"}),de(Ee.mainInput,Ee.tip);var a=ne("div",{id:"tip-arr-wrap",className:"tip-arr-wrap"});Ee.tip.appendChild(a),a.appendChild(ne("div",{id:"tip-arr",className:"tip-arr"})),a.appendChild(ne("div",{id:"tip-arr-in",className:"tip-arr-in"})),Ee.tipBody=ne("div",{id:"tip-body",className:"tip-body"}),Ee.tip.appendChild(Ee.tipBody)}}function x(e){if(Ce.placeholders)!Ee.mainInput.getAttribute("placeholder")&&Ee.mainInput.getAttribute("data-placeholder")&&Ee.mainInput.setAttribute("placeholder",Ee.mainInput.getAttribute("data-placeholder"));else{var t=Ee.mainInput.getAttribute("placeholder")||Ee.mainInput.getAttribute("data-placeholder");t&&(Ee.placeholder=ne("div",{id:"placeholder",className:"placeholder"},{position:"absolute",margin:"0",padding:"0",height:e.height+"px",lineHeight:e.height+"px"}),fe(Ee.placeholder,t),de(Ee.mainInput,Ee.placeholder))}}function k(){Ce.passSymbol&&(Ee.passLengthChecker=ne("div",{id:"len"},{position:"absolute",height:ue(Ee.mainInput,"height"),top:"-10000px",left:"-10000px",display:"block",color:"transparent",border:"none"}),de(Ee.mainInput,Ee.passLengthChecker),setTimeout(function(){r.each(["marginLeft","fontFamily","fontSize","fontWeight","fontStyle","fontVariant"],function(e){var t=ue(Ee.mainInput,e);t&&(Ee.passLengthChecker.style[e]=t)})},50))}function T(){S(),E();var e=le(M()),t=C();Ee.maskBtn&&"none"!=Ee.maskBtn.style.display&&(t+=pe(Ee.maskBtn,"width"),ce(Ee.maskBtn,{top:e.top,left:e.left+e.width-t,height:e.height})),Ee.genBtn&&"none"!=Ee.genBtn.style.display&&(t+=pe(Ee.genBtn,"width"),ce(Ee.genBtn,{top:e.top,left:e.left+e.width-t,height:e.height}),Ee.genBtnInner.style.marginTop=Math.max(0,Math.round((e.height-19)/2))+"px"),Ee.placeholder&&"none"!=Ee.placeholder.style.display&&ce(Ee.placeholder,{top:e.top,left:e.left+7,height:e.height}),Ee.tip&&"none"!=Ee.tip.style.display&&ce(Ee.tip,{left:e.left,top:e.top+e.height,width:e.width})}function C(){var e=pe(M(),"paddingRight");return Math.max(Le,e)}function S(){Ee.genBtn&&(Ee.genBtn.style.display=Oe||Pe&&!Re?"block":"none"),Ee.maskBtn&&(Ee.maskBtn.style.display=Oe||Pe&&!je?"block":"none")}function E(){if(Ie.showTip)if(Ee.tip)Ee.tip.style.display=De&&Pe?"block":"none";else if(De&&Pe){if(!Ne||qe!=Ne){var t=e(Ee.mainInput).data("popover")||e(Ee.mainInput).data("bs.popover"),n=t.options,a=n.animation;Ne&&(n.animation=!1);var i=M().offsetWidth-2,r=t.$tip;r?r.width(i):t.options.template&&(t.options.template=t.options.template.replace('class="popover"','class="popover" style="width: '+i+'px"')),Ee.clearInput&&(t.$element=e(M())),e(Ee.mainInput).popover("show"),Ne=qe,n.animation=a}}else Ne&&(Ne=null,e(Ee.mainInput).popover("hide"))}function I(){var e=!0,n=!0,a=t.createElement("input");"placeholder"in a||(e=!1),a.setAttribute("style","position:absolute;left:-10000px;top:-10000px;"),t.body.appendChild(a);try{a.setAttribute("type","password")}catch(i){n=!1}t.body.removeChild(a);var r=t.createElement("div");r.setAttribute("style","display:inline-block"),r.style.paddingLeft=r.style.width="1px",t.body.appendChild(r);var o=2==r.offsetWidth,s="inline-block"===ue(r,"display");t.body.removeChild(r);var l=navigator.userAgent.indexOf("AppleWebKit")>=0||navigator.userAgent.indexOf("Opera")>=0||navigator.userAgent.indexOf("Firefox")>=0&&navigator.platform.indexOf("Mac")>=0?"•":"●";Ce={placeholders:e,changeType:n,boxModel:o,hasInlineBlock:s,passSymbol:l}}function M(){return Me?Ee.mainInput:Ee.clearInput||Ee.mainInput}function D(){if(r.each(Ee.clearInput?[Ee.mainInput,Ee.clearInput]:[Ee.mainInput],function(e){r.attachEvent(e,"onkeyup",P),r.attachEvent(e,"onfocus",N),r.attachEvent(e,"onblur",q),r.attachEvent(e,"onmouseover",O),r.attachEvent(e,"onmouseout",O),Ee.placeholder&&r.attachEvent(e,"onkeydown",j)}),r.attachEvent(n,"onresize",T),Ee.maskBtn&&(r.attachEvent(Ee.maskBtn,"onclick",function(){B()}),r.attachEvent(Ee.maskBtn,"onmouseover",O),r.attachEvent(Ee.maskBtn,"onmouseout",O)),Ee.genBtn&&(r.attachEvent(Ee.genBtn,"onclick",function(){H()}),r.attachEvent(Ee.genBtn,"onmouseover",O),r.attachEvent(Ee.genBtn,"onmouseout",O)),Ee.placeholder&&r.attachEvent(Ee.placeholder,"onclick",A),Ie.nonMatchField){var e=he(Ie.nonMatchField);e&&r.attachEvent(e,"onkeyup",U)}}function A(){M().focus()}function O(e){var t="mouseover"===e.type,n=e.relatedTarget?e.relatedTarget:t?e.fromElement:e.toElement;(!n||!n.id||0!=n.id.indexOf(Ue+"btn")&&n!==Ee.mainInput&&n!==Ee.clearInput)&&(Oe=t,T())}function P(e){var t,n=e?e.which||e.keyCode:null,a=n===_e||n===Fe;t=Ee.clearInput?Me?Ee.clearInput.value=Ee.mainInput.value:Ee.mainInput.value=Ee.clearInput.value:Ee.mainInput.value,Ie.strengthCheckTimeout>0&&!De&&!a?(xe&&clearTimeout(xe),xe=setTimeout(V,Ie.strengthCheckTimeout)):V(),Ee.placeholder&&!t&&(Ee.placeholder.style.display="block"),R()}function R(){if(Ee.passLengthChecker){var e=M().value;Me&&(e=e.replace(/./g,Ce.passSymbol)),fe(Ee.passLengthChecker,e);var t=Ee.passLengthChecker.offsetWidth;t+=pe(Ee.mainInput,"paddingLeft");var n=0,a=0,i=se(M()),r=i.width,o=!1,s=C();if(Ee.maskBtn){n=pe(Ee.maskBtn,"width");var l=r-n-s,c=t>l;je!=c&&(o=!0,je=c)}if(Ee.genBtn){a=pe(Ee.genBtn,"width");var u=r-n-a-s,p=t>u;Re!=p&&(o=!0,Re=p)}o&&T()}}function j(){Ee.placeholder&&(Ee.placeholder.style.display="none")}function N(){ke&&(clearTimeout(ke),ke=null),Te&&(clearTimeout(Te),Te=null),Pe=!0,T()}function q(){ke=setTimeout(function(){ke=null,Pe=!1,T(),Ie.isMasked&&!Te&&(Te=setTimeout(function(){Te=null,B(!0,!1)},1500))},100)}function U(){De&&V()}function B(e,t){t===a&&(t=!0);var n=e!=Me;if(e=e===a?!Me:!!e,Ce.changeType){var i=M(),o=L(i);i.setAttribute("type",e?"password":"text"),t&&(F(i,o),i.focus())}else{var s=ue(M(),"display")||"block",l=e?Ee.clearInput:Ee.mainInput,c=e?Ee.mainInput:Ee.clearInput;Me!=e&&r.each(["paddingRight","width","backgroundImage","backgroundPosition","backgroundRepeat","backgroundAttachment","border"],function(e){var t=l.style[e];t&&(c.style[e]=t)});var u=L(l);c.style.display=s,l.style.display="none",c.value=l.value,t&&(F(c,u),c.focus()),Ee.mainInput.nextSibling!=Ee.clearInput&&de(Ee.mainInput,Ee.clearInput)}Ee.maskBtn&&(fe(Ee.maskBtn,e?Ie.maskBtn.textMasked:Ie.maskBtn.textUnmasked),e?(Ie.maskBtn.classUnmasked&&me(Ee.maskBtn,Ie.maskBtn.classUnmasked,!0),Ie.maskBtn.classMasked&&ge(Ee.maskBtn,Ie.maskBtn.classMasked,!0)):(Ie.maskBtn.classMasked&&me(Ee.maskBtn,Ie.maskBtn.classMasked,!0),Ie.maskBtn.classUnmasked&&ge(Ee.maskBtn,Ie.maskBtn.classUnmasked,!0)),Ee.maskBtn.title=e?$e.msg.showPass:$e.msg.hidePass),Me=e,R(),T(),n&&be("switched",Me)}function L(e){return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?{start:e.selectionStart,end:e.selectionEnd}:null}function F(e,t){t&&"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd&&(e.selectionStart=t.start,e.selectionEnd=t.end)}function _(){("function"==typeof Ee.mainInput.hasAttribute&&Ee.mainInput.hasAttribute("autofocus")||Ee.mainInput.getAttribute("autofocus"))&&(Ee.mainInput.focus(),N())}function H(){var e=X();Ee.mainInput.value=e,Ee.clearInput&&(Ee.clearInput.value=e),be("generated",e),B(!1),xe&&(clearTimeout(xe),xe=null),V(),Ee.placeholder&&(Ee.placeholder.style.display="none")}function V(){xe&&(clearTimeout(xe),xe=null);var e=M().value,t=W(e);if(0==e.length)t={strength:Ie.allowEmpty?0:null,messages:[$e.msg.passRequired]};else{!Ie.allowAnyChars&&t.charTypes[i.CharTypes.UNKNOWN]&&(t={strength:null,messages:[$e.msg.badChars.replace("{}",t.charTypes[i.CharTypes.UNKNOWN])]}),delete t.charTypes;var n=!1;r.each(Ie.blackList,function(t){return t==e?(n=!0,!1):!0}),n&&(t={strength:0,messages:[$e.msg.inBlackList]}),e&&e===Y()&&(t={strength:0,messages:[$e.msg.equalTo]})}if("function"==typeof Ie.validationCallback){var a,o,s=Ie.validationCallback(Ee.mainInput,t);s&&s.messages&&r.isArray(s.messages)&&(a=s.messages),s&&Object.prototype.hasOwnProperty.call(s,"strength")&&("number"==typeof s.strength||null===s.strength)&&(o=s.strength),a&&a.length?(t.messages=a,t.strength=o):o&&o>t.strength&&(t.strength=o)}return 0==e.length&&Ie.allowEmpty?(G(),Ae={strength:0},!0):null===t.strength||t.strength<Ie.acceptRate?(K(t.strength,t.messages),!1):(G(),Ae={strength:t.strength},!0)}function W(e){var t=Z(Ie.pattern,i.CharTypes.SYMBOL),n=Z(e,Ie.allowAnyChars?i.CharTypes.SYMBOL:i.CharTypes.UNKNOWN),a=[],o=0;r.each(t,function(e){if(o++,!n[e]){var t=$e.msg[e];if(e==i.CharTypes.SYMBOL){var r=4,s=Ie.chars[e];s.length>r&&(s=s.substring(0,r)),t=t+" ("+s+")"}a.push(t)}});var s=1-a.length/o;if(a.length&&(a=[z(a)]),Ie.checkMode==i.CheckModes.MODERATE){var l=0;r.each(n,function(e){t[e]||l++}),s+=l/o}var c=Ie.pattern.length,u=e.length/c-1;if(Ie.length&&Ie.length.min&&e.length<Ie.length.min&&(u=-10,Ie.length.min>c&&(c=Ie.length.min)),0>u?(s+=u,a.push($e.msg.passTooShort.replace("{}",c.toString()))):Ie.checkMode==i.CheckModes.MODERATE&&(s+=u/o),e.length>2){for(var p=e.charAt(0),d=!0,f=0;f<e.length;f++)if(e.charAt(f)!=p){d=!1;break}d&&(s=0,a=[$e.msg.repeat])}return 0>s&&(s=0),s>1&&(s=1),{strength:s,messages:a,charTypes:n}}function z(e){for(var t=e[0],n=1;n<e.length;n++)t+=n==e.length-1?" "+$e.msg.and+" ":", ",t+=e[n];return $e.msg.noCharType.replace("{}",t)}function K(e,t){var n="",a="";if(null===e)n=$e.msg.invalidPassWarn,a=t[0].charAt(0).toUpperCase()+t[0].substring(1);else if(n=$e.msg.weakWarn,a="",t)for(var i=0;i<t.length;i++){var r=t[i].charAt(0);0==i?(a+=$e.msg.weakTitle+": ",$e.lower&&(r=r.toLowerCase())):(a+="<br/>",r=r.toUpperCase()),a+=r+t[i].substring(1),a&&"."!=a.charAt(a.length-1)&&(a+=".")}if(a&&"."!=a.charAt(a.length-1)&&(a+="."),Ae={strength:e,message:a},Ee.warnMsg&&(fe(Ee.warnMsg,n),Ee.warnMsg.title=a,Ie.errorWrapClassName&&ge(Ee.wrapper,Ie.errorWrapClassName,!0)),Ie.showTip){var o=a;Ee.genBtn&&(o+="<br/>"+$e.msg.generateMsg.replace("{}",'<div class="'+te("btn-gen-help")+'"></div>')),qe=o,Ee.tipBody&&fe(Ee.tipBody,o)}De=!0,T()}function G(){Ee.warnMsg&&(fe(Ee.warnMsg,""),Ee.warnMsg.title="",Ie.errorWrapClassName&&me(Ee.wrapper,Ie.errorWrapClassName,!0)),qe=null,De=!1,T()}function Y(){if(!Ie.nonMatchField)return null;var e=he(Ie.nonMatchField);return e?e.value:null}function J(){return Ae?Ae.message:null}function Q(){return Ae?Ae.strength:-1}function X(){var e="",t=Z(Ie.pattern,i.CharTypes.SYMBOL),n=[];return r.each(t,function(e,t){for(var a=0;a<t.length;a++)n.push(e)}),n.sort(function(){return.7-Math.random()}),r.each(n,function(t){var n=Se.generationChars[t];n?Ie.chars[t]&&Ie.chars[t].indexOf(n)<0&&(n=Ie.chars[t]):n=Ie.chars[t],e+=r.selectRandom(n)}),e}function Z(e,t){for(var n={},a=0;a<e.length;a++){var i=e.charAt(a),o=t;r.each(Ie.chars,function(e,t){return t.indexOf(i)>=0?(o=e,!1):!0}),n[o]=(n[o]||"")+i}return n}function ee(e){return Ue+e+"-"+we}function te(e){return Ue+e}function ne(e,t,n){return t.id&&(t.id=ee(t.id)),t.className&&(t.className=te(t.className)),r.newEl(e,t,n)}function ae(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,left:0}}}function ie(e){var t=e.ownerDocument;if(!t)return{top:0,left:0};var a=ae(e);return{top:a.top+(n.pageYOffset||0)-(t.documentElement.clientTop||0),left:a.left+(n.pageXOffset||0)-(t.documentElement.clientLeft||0)}}function re(e){var n;try{n=e.offsetParent}catch(a){}for(n||(n=t.documentElement);n&&"html"!=n.nodeName.toLowerCase()&&"static"===ue(n,"position");)n=n.offsetParent;return n||t.documentElement}function oe(e){var t,n={top:0,left:0};if("fixed"===ue(e,"position"))t=ae(e);else{var a=re(e);t=ie(e),"html"!=a.nodeName.toLowerCase()&&(n=ie(a)),n.top+=pe(a,"borderTopWidth"),n.left+=pe(a,"borderLeftWidth")}return{top:t.top-n.top-pe(e,"marginTop"),left:t.left-n.left-pe(e,"marginLeft")}}function se(e){return{width:e.offsetWidth,height:e.offsetHeight}}function le(e){return r.extend(ie(e),se(e))}function ce(e,t){if(t.height&&!isNaN(t.height)&&(e.style.height=t.height+"px",e.style.lineHeight=t.height+"px"),t.width&&!isNaN(t.width)&&(e.style.width=t.width+"px"),t.top||t.left){if("none"==ue(e,"display"))return e.style.top=t.top+"px",void(e.style.left=t.left+"px");var n,a,i;if(i=ie(e),a=ue(e,"top")||0,n=ue(e,"left")||0,(a+n+"").indexOf("auto")>-1){var r=oe(e);a=r.top,n=r.left}else a=parseFloat(a)||0,n=parseFloat(n)||0;t.top&&(e.style.top=t.top-i.top+a+"px"),t.left&&(e.style.left=t.left-i.left+n+"px")}}function ue(e,t){var a="function"==typeof n.getComputedStyle?n.getComputedStyle(e,null):e.currentStyle;return a?a[t]:null}function pe(e,t){var n=ue(e,t);if(!n)return 0;var a=parseFloat(n);return isNaN(a)?0:a}function de(e,t){e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}function fe(e,n){try{e.innerHTML=n}catch(a){var i=t.createElement("c");for(i.innerHTML=n;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)}}function he(e){return"string"==typeof e?t.getElementById(e):e.jquery?e[0]:e}function ge(e,t,n){ve(e,t,n)||(e.className=e.className+(e.className?" ":"")+(n===!0?t:te(t)))}function me(e,t,n){ve(e,t,n)&&(e.className=(" "+e.className+" ").replace((n===!0?t:te(t))+" ","").replace(/^\s+|\s+$/g,""))}function ve(e,t,n){return t=" "+(n===!0?t:te(t))+" ",(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(t)>-1}function be(t,n){if(e)try{e(Ee.mainInput).trigger(Be+t,n)}catch(a){}if(Ie.events&&"function"==typeof Ie.events[t])try{Ie.events[t].call(Ee.mainInput,n)}catch(a){}}function ye(t,n){e&&e(Ee.mainInput).data(t,n)}var $e,we,xe,ke,Te,Ce,Se=i.Config,Ee={},Ie=r.extend({},Se.defaults,s),Me=!0,De=!1,Ae=null,Oe=!1,Pe=!1,Re=!1,je=!1,Ne=!1,qe=null,Ue="a_pf-",Be="pass:",Le=5,Fe=46,_e=8;this.toggleMasking=function(e){B(e)},this.setPass=d,this.validatePass=V,this.getPassValidationMessage=J,this.getPassStrength=Q,l.call(this)};var r={};r.extend=function(){for(var e=arguments,t=1;t<e.length;t++)r.each(e[t],function(t,n){e[0][t]=r.isArray(e[0][t])||r.isArray(n)?e[0][t]?e[0][t].concat(n||[]):n:r.isElement(n)?n:"object"==typeof e[0][t]&&"object"==typeof n&&null!==n?r.extend({},e[0][t],n):"object"==typeof n&&null!==n?r.extend({},n):n});return e[0]},r.newEl=function(e,n,a){var i=t.createElement(e);return n&&r.each(n,function(e,t){t&&(i[e]=t)}),a&&r.each(a,function(e,t){t&&(i.style[e]=t)}),i},r.attachEvent=function(e,t,a){var i=e[t];e[t]=function(e){e||(e=n.event),a(e),"function"==typeof i&&i(e)}},r.each=function(e,t){if(r.isArray(e)){for(var n=0;n<e.length;n++)if(t(e[n])===!1)return}else for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(a,e[a])===!1)return},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isElement=function(t){if(!t)return!1;try{return t instanceof HTMLElement||e&&t instanceof jQuery}catch(n){return"object"==typeof t&&t.nodeType||t.jquery}},r.selectRandom=function(e){var t=Math.floor(Math.random()*e.length);return r.isArray(e)?e[t]:e.charAt(t)},r.contains=function(e,t){if(!e)return!1;var n=!1;return r.each(e,function(e){return e===t?(n=!0,!1):!0}),n},e&&(e.fn.passField=function(e){return this.each(function(){new i.Field(this,e)})},e.fn.togglePassMasking=function(t){return this.each(function(){var n=e(this).data(i.Config.dataAttr);n&&n.toggleMasking(t)})},e.fn.setPass=function(t){return this.each(function(){var n=e(this).data(i.Config.dataAttr);n&&n.setPass(t)})},e.fn.validatePass=function(){var t=!0;return this.each(function(){var n=e(this).data(i.Config.dataAttr);n&&!n.validatePass()&&(t=!1)}),t},e.fn.getPassValidationMessage=function(){var e=this.first();if(e){var t=e.data(i.Config.dataAttr);if(t)return t.getPassValidationMessage()}return null},e.fn.getPassStrength=function(){var e=this.first();if(e){var t=e.data(i.Config.dataAttr);if(t)return t.getPassStrength()}return null}),e&&e.validator&&jQuery.validator.addMethod("passfield",function(t,n){return e(n).validatePass()},function(t,n){return e(n).getPassValidationMessage()})}(window.jQuery,document,window),define("libs/passfield",function(){}),function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},t=9007199254740991,n=["text","email","url"],a=angular.module("ngTagsInput",[]);a.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(a,i,r,o,s){function l(e,t,n,a){var i,r,o,l={};return i=function(t){return s.safeToString(t[e.displayProperty])},r=function(t,n){t[e.displayProperty]=n},o=function(t){var a=i(t);return a&&a.length>=e.minLength&&a.length<=e.maxLength&&e.allowedTagsPattern.test(a)&&!s.findInObjectArray(l.items,t,e.keyProperty||e.displayProperty)&&n({$tag:t})},l.items=[],l.addText=function(e){var t={};return r(t,e),l.add(t)},l.add=function(n){var a=i(n);return e.replaceSpacesWithDashes&&(a=s.replaceSpacesWithDashes(a)),r(n,a),o(n)?(l.items.push(n),t.trigger("tag-added",{$tag:n})):a&&t.trigger("invalid-tag",{$tag:n}),n},l.remove=function(e){var n=l.items[e];return a({$tag:n})?(l.items.splice(e,1),l.clearSelection(),t.trigger("tag-removed",{$tag:n}),n):void 0},l.select=function(e){0>e?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e]},l.selectPrior=function(){l.select(--l.index)},l.selectNext=function(){l.select(++l.index)},l.removeSelected=function(){return l.remove(l.index)},l.clearSelection=function(){l.selected=null,l.index=-1},l.clearSelection(),l}function c(e){return-1!==n.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,n,a){e.events=s.simplePubSub(),o.load("tagsInput",e,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",c],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,t],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,t],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),e.tagList=new l(e.options,e.events,s.handleUndefinedResult(e.onTagAdding,!0),s.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){var t=a.find("input");return{addTag:function(t){return e.tagList.add(t)},focusInput:function(){t[0].focus()},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},on:function(t,n){return e.events.on(t,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,n,o,l){var c,u=[e.enter,e.comma,e.space,e.backspace,e["delete"],e.left,e.right],p=t.tagList,d=t.events,f=t.options,h=n.find("input"),g=["minTags","maxTags","allowLeftoverText"];c=function(){l.$setValidity("maxTags",p.items.length<=f.maxTags),l.$setValidity("minTags",p.items.length>=f.minTags),l.$setValidity("leftoverText",t.hasFocus||f.allowLeftoverText?!0:!t.newTag.text())},l.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){return angular.isDefined(e)?(t.text=e,void d.trigger("input-change",e)):t.text||""},invalid:null},t.track=function(e){return e[f.keyProperty||f.displayProperty]},t.$watch("tags",function(e){e?(p.items=s.makeObjectArray(e,f.displayProperty),t.tags=p.items):p.items=[]}),t.$watch("tags.length",function(){c(),l.$validate()}),o.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){d.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,d.trigger("input-focus"))},blur:function(){a(function(){var e=i.prop("activeElement"),a=e===h[0],r=n[0].contains(e);(a||!r)&&(t.hasFocus=!1,d.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):r.clipboardData.getData("Text")},d.trigger("input-paste",e)}},host:{click:function(){t.disabled||h[0].focus()}},tag:{click:function(e){d.trigger("tag-clicked",{$tag:e})}}},d.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=p.items,l.$setDirty()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==g.indexOf(e.name)&&c()}).on("input-change",function(){p.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),l.$setValidity("leftoverText",!0)}).on("input-blur",function(){f.addOnBlur&&!f.addFromAutocompleteOnly&&p.addText(t.newTag.text()),n.triggerHandler("blur"),c()}).on("input-keydown",function(n){var a,i,r,o,l=n.keyCode,c={};if(!s.isModifierOn(n)&&-1!==u.indexOf(l)){if(c[e.enter]=f.addOnEnter,c[e.comma]=f.addOnComma,c[e.space]=f.addOnSpace,a=!f.addFromAutocompleteOnly&&c[l],i=(l===e.backspace||l===e["delete"])&&p.selected,o=l===e.backspace&&0===t.newTag.text().length&&f.enableEditingLastTag,r=(l===e.backspace||l===e.left||l===e.right)&&0===t.newTag.text().length&&!f.enableEditingLastTag,a)p.addText(t.newTag.text());else if(o){var d;p.selectPrior(),d=p.removeSelected(),d&&t.newTag.text(d[f.displayProperty])}else i?p.removeSelected():r&&(l===e.left||l===e.backspace?p.selectPrior():l===e.right&&p.selectNext());(a||r||i||o)&&n.preventDefault()}}).on("input-paste",function(e){if(f.addOnPaste){var t=e.getTextData(),n=t.split(f.pasteSplitPattern);n.length>1&&(n.forEach(function(e){p.addText(e)}),e.preventDefault())}})}}}]),a.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(t,n,a,i){var r=i.registerTagItem(),o=r.getOptions();t.$$template=o.template,t.$$removeTagSymbol=o.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[o.displayProperty])},t.$removeTag=function(){r.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),a.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,a,i,r,o){function s(e,t,n){var a,r,s,l={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},a=function(e,n){return e.filter(function(e){return!o.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=o.replaceSpacesWithDashes(e),n=o.replaceSpacesWithDashes(n)),o.defaultComparer(e,n)})})},l.reset=function(){r=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=o.debounce(function(n,c){l.query=n;var u=i.when(e({$query:n}));r=u,u.then(function(e){u===r&&(e=o.makeObjectArray(e.data||e,s()),e=a(e,c),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){0>e?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),a=n.parent(),i=n.prop("offsetTop"),r=n.prop("offsetHeight"),o=a.prop("clientHeight"),s=a.prop("scrollTop");s>i?a.prop("scrollTop",i):i+r>o+s&&a.prop("scrollTop",i+r-o)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){
e.events=o.simplePubSub(),r.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,a,i){var r,s=[e.enter,e.tab,e.escape,e.up,e.down],c=t.suggestionList,u=i.registerAutocomplete(),p=t.options,d=t.events;p.tagsInput=u.getOptions(),r=function(e){return e&&e.length>=p.minLength||!e&&p.loadOnEmpty},t.addSuggestionByIndex=function(e){c.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return c.selected&&(u.addTag(angular.copy(c.selected)),c.reset(),u.focusInput(),e=!0),e},t.track=function(e){return e[p.tagsInput.keyProperty||p.tagsInput.displayProperty]},u.on("tag-added tag-removed invalid-tag input-blur",function(){c.reset()}).on("input-change",function(e){r(e)?c.load(e,u.getTags()):c.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();p.loadOnFocus&&r(e)&&c.load(e,u.getTags())}).on("input-keydown",function(n){var a=n.keyCode,i=!1;if(!o.isModifierOn(n)&&-1!==s.indexOf(a))return c.visible?a===e.down?(c.selectNext(),i=!0):a===e.up?(c.selectPrior(),i=!0):a===e.escape?(c.reset(),i=!0):(a===e.enter||a===e.tab)&&(i=t.addSuggestion()):a===e.down&&t.options.loadOnDownArrow&&(c.load(u.getCurrentTagText(),u.getTags()),i=!0),i?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),d.on("suggestion-selected",function(e){l(n,e)})}}}]),a.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,a,i,r){var o=r.registerAutocompleteMatch(),s=o.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,o.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),a.directive("tiTranscludeAppend",function(){return function(e,t,n,a,i){i(function(e){t.append(e)})}}),a.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,a,i){var r,o,s=e.getTextAutosizeThreshold();r=angular.element('<span class="input"></span>'),r.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(r),o=function(e){var t,i=e;return angular.isString(i)&&0===i.length&&(i=a.placeholder),i&&(r.text(i),r.css("display",""),t=r.prop("offsetWidth"),r.css("display","none")),n.css("width",t?t+s+"px":""),e},i.$parsers.unshift(o),i.$formatters.unshift(o),a.$observe("placeholder",function(e){i.$modelValue||o(e)})}}}]),a.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),a.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(a){var i={};return i[String]=function(e){return e},i[Number]=function(e){return parseInt(e,10)},i[Boolean]=function(e){return"true"===e.toLowerCase()},i[RegExp]=function(e){return new RegExp(e)},{load:function(n,r,o,s){var l=function(){return!0};r.options={},angular.forEach(s,function(s,c){var u,p,d,f,h,g;u=s[0],p=s[1],d=s[2]||l,f=i[u],h=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:p},g=function(e){r.options[c]=e&&d(e)?f(e):h()},t[n]&&t[n][c]?o.$observe(c,function(e){g(e),r.events.trigger("option-change",{name:c,newValue:e})}):g(o[c]&&a(o[c])(r.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),a.factory("tiUtil",["$timeout",function(e){var t={};return t.debounce=function(t,n){var a;return function(){var i=arguments;e.cancel(a),a=e(function(){t.apply(null,i)},n)}},t.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var a={};a[t]=e,n.push(a)}),n},t.findInObjectArray=function(e,n,a,i){var r=null;return i=i||t.defaultComparer,e.some(function(e){return i(e[a],n[a])?(r=e,!0):void 0}),r},t.defaultComparer=function(e,n){return t.safeToString(e).toLowerCase()===t.safeToString(n).toLowerCase()},t.safeHighlight=function(e,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!n)return e;e=t.encodeHTML(e),n=t.encodeHTML(n);var i=new RegExp("&[^;]+;|"+a(n),"gi");return e.replace(i,function(e){return e.toLowerCase()===n.toLowerCase()?"<em>"+e+"</em>":e})},t.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},t.encodeHTML=function(e){return t.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},t.replaceSpacesWithDashes=function(e){return t.safeToString(e).replace(/\s/g,"-")},t.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},t.simplePubSub=function(){var e={};return{on:function(t,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(n)}),this},trigger:function(n,a){var i=e[n]||[];return i.every(function(e){return t.handleUndefinedResult(e,!0)(a)}),this}}},t}]),a.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),define("libs/ng-tags-input-3.0.0",function(){}),function(){function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var n=e.which;switch(n){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return e.metaKey||e.ctrlKey||e.altKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"	",SPACE:" "}[e];return n?n:t[e]?void 0:e}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,a=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,a,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);a.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,r=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e(function(){t.apply(i,r)},n)}}}]),a.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,a,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(a,r){if(!r.repeat)throw n("repeat","Expected 'repeat' expression.");var o=r.groupBy,s=r.groupFilter;if(o){var l=a.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var c=t.parse(r.repeat),u=a.querySelectorAll(".ui-select-choices-row");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",u.length);u.attr("ng-repeat",c.repeatExpression(o)).attr("ng-if","$select.open");var p=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",p.length);p.attr("uis-transclude-append","");var d=i.document.addEventListener?u:p;return d.attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,n,i,r){r.parseRepeatAttr(i.repeat,o,s),r.disableChoiceExpression=i.uiDisableChoice,r.onHighlightCallback=i.onHighlight,r.minimumInputLength=parseInt(i.minimumInputLength)||0,r.dropdownPosition=i.position?i.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",function(e){e&&!r.open&&r.multiple&&r.activate(!1,!0),r.activeIndex=r.tagging.isActivated?-1:0,!i.minimumInputLength||r.search.length>=i.minimumInputLength?r.refresh(i.refresh):r.items=[]}),i.$observe("refreshDelay",function(){var n=t.$eval(i.refreshDelay);r.refreshDelay=void 0!==n?n:e.refreshDelay}),t.$watch("$select.open",function(e){e?(a.attr("role","listbox"),r.refresh(i.refresh)):n.removeAttr("role")})}}}}]),a.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,a,i,r,o,s,l,c,u,p,d){function f(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var a,i=Object(e),r=i.length>>>0,o=0;r>o;o++)if(a=i[o],t.call(n,a,o,i))return o;return-1}function h(){w.resetSearchInput&&(w.search=x,w.selected&&w.items.length&&!w.multiple&&(w.activeIndex=f(w.items,function(e){return angular.equals(this,e)},w.selected)))}function g(e,t){var n,a,i=[];for(n=0;n<t.length;n++)for(a=0;a<e.length;a++)e[a].name==[t[n]]&&i.push(e[a]);return i}function m(e,t){var n=C.indexOf(e);t&&-1===n&&C.push(e),!t&&n>-1&&C.splice(n,1)}function v(e){return C.indexOf(e)>-1}function b(e){function t(e,t){var n=a.indexOf(e);t&&-1===n&&a.push(e),!t&&n>-1&&a.splice(n,1)}function n(e){return a.indexOf(e)>-1}if(e){var a=[];w.isLocked=function(e,a){var i=!1,r=w.selected[a];return r&&(e?(i=!!e.$eval(w.lockChoiceExpression),t(r,i)):i=n(r)),i}}}function y(e){var n=!0;switch(e){case t.DOWN:if(!w.open&&w.multiple)w.activate(!1,!0);else if(w.activeIndex<w.items.length-1)for(var a=++w.activeIndex;v(w.items[a])&&a<w.items.length;)w.activeIndex=++a;break;case t.UP:var i=0===w.search.length&&w.tagging.isActivated?-1:0;if(!w.open&&w.multiple)w.activate(!1,!0);else if(w.activeIndex>i)for(var r=--w.activeIndex;v(w.items[r])&&r>i;)w.activeIndex=--r;break;case t.TAB:(!w.multiple||w.open)&&w.select(w.items[w.activeIndex],!0);break;case t.ENTER:w.open&&(w.tagging.isActivated||w.activeIndex>=0)?w.select(w.items[w.activeIndex],w.skipFocusser):w.activate(!1,!0);break;case t.ESC:w.close();break;default:n=!1}return n}function $(){var e=a.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw l("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(w.activeIndex<0)){var n=t[w.activeIndex],i=n.offsetTop+n.clientHeight-e[0].scrollTop,r=e[0].offsetHeight;i>r?e[0].scrollTop+=i-r:i<n.clientHeight&&(w.isGrouped&&0===w.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-i)}}var w=this,x="";if(w.placeholder=c.placeholder,w.searchEnabled=c.searchEnabled,w.sortable=c.sortable,w.refreshDelay=c.refreshDelay,w.paste=c.paste,w.resetSearchInput=c.resetSearchInput,w.refreshing=!1,w.spinnerEnabled=c.spinnerEnabled,w.spinnerClass=c.spinnerClass,w.removeSelected=c.removeSelected,w.closeOnSelect=!0,w.skipFocusser=!1,w.search=x,w.activeIndex=0,w.items=[],w.open=!1,w.focus=!1,w.disabled=!1,w.selected=void 0,w.dropdownPosition="auto",w.focusser=void 0,w.multiple=void 0,w.disableChoiceExpression=void 0,w.tagging={isActivated:!1,fct:void 0},w.taggingTokens={isActivated:!1,tokens:void 0},w.lockChoiceExpression=void 0,w.clickTriggeredSelect=!1,w.$filter=r,w.$element=a,w.$animate=function(){try{return p.get("$animate")}catch(e){return null}}(),w.searchInput=a.querySelectorAll("input.ui-select-search"),1!==w.searchInput.length)throw l("searchInput","Expected 1 input.ui-select-search but got '{0}'.",w.searchInput.length);w.isEmpty=function(){return e(w.selected)||""===w.selected||w.multiple&&0===w.selected.length},w.activate=function(e,t){if(w.disabled||w.open)w.open&&!w.searchEnabled&&w.close();else{t||h(),n.$broadcast("uis:activate"),w.open=!0,w.activeIndex=w.activeIndex>=w.items.length?0:w.activeIndex,-1===w.activeIndex&&w.taggingLabel!==!1&&(w.activeIndex=0);var r=a.querySelectorAll(".ui-select-choices-content"),o=a.querySelectorAll(".ui-select-search");if(w.$animate&&w.$animate.on&&w.$animate.enabled(r[0])){var s=function(t,n){"start"===n&&0===w.items.length?(w.$animate.off("removeClass",o[0],s),i(function(){w.focusSearchInput(e)})):"close"===n&&(w.$animate.off("enter",r[0],s),i(function(){w.focusSearchInput(e)}))};w.items.length>0?w.$animate.on("enter",r[0],s):w.$animate.on("removeClass",o[0],s)}else i(function(){w.focusSearchInput(e),!w.tagging.isActivated&&w.items.length>1&&$()})}},w.focusSearchInput=function(e){w.search=e||w.search,w.searchInput[0].focus()},w.findGroupByName=function(e){return w.groups&&w.groups.filter(function(t){return t.name===e})[0]},w.parseRepeatAttr=function(e,t,a){function i(e){var i=n.$eval(t);if(w.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=w.findGroupByName(t);n?n.items.push(e):w.groups.push({name:t,items:[e]})}),a){var r=n.$eval(a);angular.isFunction(r)?w.groups=r(w.groups):angular.isArray(r)&&(w.groups=g(w.groups,r))}w.items=[],w.groups.forEach(function(e){w.items=w.items.concat(e.items)})}function r(e){w.items=e||[]}w.setItemsFn=t?i:r,w.parserResult=s.parse(e),w.isGrouped=!!t,w.itemProperty=w.parserResult.itemName;var o=w.parserResult.source,c=function(){var e=o(n);n.$uisSource=Object.keys(e).map(function(t){var n={};return n[w.parserResult.keyName]=t,n.value=e[t],n})};w.parserResult.keyName&&(c(),w.parserResult.source=u("$uisSource"+w.parserResult.filters),n.$watch(o,function(e,t){e!==t&&c()},!0)),w.refreshItems=function(e){e=e||w.parserResult.source(n);var t=w.selected;if(w.isEmpty()||angular.isArray(t)&&!t.length||!w.multiple||!w.removeSelected)w.setItemsFn(e);else if(void 0!==e&&null!==e){var a=e.filter(function(e){return angular.isArray(t)?t.every(function(t){return!angular.equals(e,t)}):!angular.equals(e,t)});w.setItemsFn(a)}("auto"===w.dropdownPosition||"up"===w.dropdownPosition)&&n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(w.parserResult.source,function(e){if(void 0===e||null===e)w.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);w.refreshItems(e),angular.isDefined(w.ngModel.$modelValue)&&(w.ngModel.$modelValue=null)}})};var k;w.refresh=function(e){void 0!==e&&(k&&i.cancel(k),k=i(function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!w.refreshing&&(w.refreshing=!0,t["finally"](function(){w.refreshing=!1}))}},w.refreshDelay))},w.isActive=function(e){if(!w.open)return!1;var t=w.items.indexOf(e[w.itemProperty]),n=t==w.activeIndex;return!n||0>t?!1:(n&&!angular.isUndefined(w.onHighlightCallback)&&e.$eval(w.onHighlightCallback),n)};var T=function(e){return w.selected&&angular.isArray(w.selected)&&w.selected.filter(function(t){return angular.equals(t,e)}).length>0},C=[];w.isDisabled=function(e){if(w.open){var t=e[w.itemProperty],n=w.items.indexOf(t),a=!1;if(n>=0&&(angular.isDefined(w.disableChoiceExpression)||w.multiple)){if(t.isTag)return!1;w.multiple&&(a=T(t)),!a&&angular.isDefined(w.disableChoiceExpression)&&(a=!!e.$eval(w.disableChoiceExpression)),m(t,a)}return a}},w.select=function(t,a,i){if(e(t)||!v(t)){if(!w.items&&!w.search&&!w.tagging.isActivated)return;if(!t||!v(t)){if(w.clickTriggeredSelect=!1,i&&("click"===i.type||"touchend"===i.type)&&t&&(w.clickTriggeredSelect=!0),w.tagging.isActivated&&w.clickTriggeredSelect===!1){if(w.taggingLabel===!1)if(w.activeIndex<0){if(void 0===t&&(t=void 0!==w.tagging.fct?w.tagging.fct(w.search):w.search),!t||angular.equals(w.items[0],t))return}else t=w.items[w.activeIndex];else if(0===w.activeIndex){if(void 0===t)return;if(void 0!==w.tagging.fct&&"string"==typeof t){if(t=w.tagging.fct(t),!t)return}else"string"==typeof t&&(t=t.replace(w.taggingLabel,"").trim())}if(T(t))return void w.close(a)}h(),n.$broadcast("uis:select",t),w.closeOnSelect&&w.close(a)}}},w.close=function(e){w.open&&(w.ngModel&&w.ngModel.$setTouched&&w.ngModel.$setTouched(),w.open=!1,h(),n.$broadcast("uis:close",e))},w.setFocus=function(){w.focus||w.focusInput[0].focus()},w.clear=function(e){w.select(null),e.stopPropagation(),i(function(){w.focusser[0].focus()},0,!1)},w.toggle=function(e){w.open?(w.close(),e.preventDefault(),e.stopPropagation()):w.activate()},w.isLocked=function(){return!1},n.$watch(function(){return angular.isDefined(w.lockChoiceExpression)&&""!==w.lockChoiceExpression},b);var S=null,E=!1;w.sizeSearchInput=function(){var e=w.searchInput[0],t=w.$element[0],a=function(){return t.clientWidth*!!e.offsetParent},r=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return 50>n&&(n=t),w.searchInput.css("width",n+"px"),!0};w.searchInput.css("width","10px"),i(function(){null!==S||r(a())||(S=n.$watch(function(){E||(E=!0,n.$$postDigest(function(){E=!1,r(a())&&(S(),S=null)}))},angular.noop))})},w.searchInput.on("keydown",function(e){var a=e.which;~[t.ENTER,t.ESC].indexOf(a)&&(e.preventDefault(),e.stopPropagation()),n.$apply(function(){var n=!1;if((w.items.length>0||w.tagging.isActivated)&&(y(a)||w.searchEnabled||(e.preventDefault(),e.stopPropagation()),w.taggingTokens.isActivated)){for(var r=0;r<w.taggingTokens.tokens.length;r++)w.taggingTokens.tokens[r]===t.MAP[e.keyCode]&&w.search.length>0&&(n=!0);n&&i(function(){w.searchInput.triggerHandler("tagged");var n=w.search.replace(t.MAP[e.keyCode],"").trim();w.tagging.fct&&(n=w.tagging.fct(n)),n&&w.select(n,!0)})}}),t.isVerticalMovement(a)&&w.items.length>0&&$(),(a===t.ENTER||a===t.ESC)&&(e.preventDefault(),e.stopPropagation())}),w.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),n=w.search+n,n&&n.length>0)if(w.taggingTokens.isActivated){for(var a=[],i=0;i<w.taggingTokens.tokens.length;i++){var r=t.toSeparator(w.taggingTokens.tokens[i])||w.taggingTokens.tokens[i];if(n.indexOf(r)>-1){a=n.split(r);break}}0===a.length&&(a=[n]);var o=w.search;angular.forEach(a,function(e){var t=w.tagging.fct?w.tagging.fct(e):e;t&&w.select(t,!0)}),w.search=o||x,e.preventDefault(),e.stopPropagation()}else w.paste&&(w.paste(n),w.search=x,e.preventDefault(),e.stopPropagation())}),w.searchInput.on("tagged",function(){i(function(){h()})});var I=o(function(){w.sizeSearchInput()},50);angular.element(d).bind("resize",I),n.$on("$destroy",function(){w.searchInput.off("keyup keydown tagged blur paste"),angular.element(d).off("resize",I)}),n.$watch("$select.activeIndex",function(e){e&&a.find("input").attr("aria-activedescendant","ui-select-choices-row-"+w.generatedId+"-"+e)}),n.$watch("$select.open",function(e){e||a.find("input").removeAttr("aria-activedescendant")})}]),a.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,a,i,r,o){return{restrict:"EA",templateUrl:function(e,n){var a=n.theme||t.theme;return a+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var c="{"+l[1]+", "+l[2]+"}";s.ngClass=c,i.attr("ng-class",c)}return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),s.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(i,s,l,c,u){function p(e){if(h.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!h.clickTriggeredSelect){var n;if(h.skipFocusser)n=!0;else{var a=["input","button","textarea","select"],r=angular.element(e.target).controller("uiSelect");n=r&&r!==h,n||(n=~a.indexOf(e.target.tagName.toLowerCase()))}h.close(n),i.$digest()}h.clickTriggeredSelect=!1}}function d(){var t=a(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),b=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function f(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=b,h.setFocus())}var h=c[0],g=c[1];h.generatedId=t.generateId(),h.baseTitle=l.title||"Select box",h.focusserTitle=h.baseTitle+" focus",h.focusserId="focusser-"+h.generatedId,h.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?r(l.closeOnSelect)():t.closeOnSelect}(),i.$watch("skipFocusser",function(){var e=i.$eval(l.skipFocusser);h.skipFocusser=void 0!==e?e:t.skipFocusser}),h.onSelectCallback=r(l.onSelect),h.onRemoveCallback=r(l.onRemove),h.ngModel=g,h.choiceGrouped=function(e){return h.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){h.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch(function(){return i.$eval(l.searchEnabled)},function(e){h.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);h.sortable=void 0!==e?e:t.sortable}),l.$observe("backspaceReset",function(){var e=i.$eval(l.backspaceReset);h.backspaceReset=void 0!==e?e:!0}),l.$observe("limit",function(){h.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0}),i.$watch("removeSelected",function(){var e=i.$eval(l.removeSelected);h.removeSelected=void 0!==e?e:t.removeSelected}),l.$observe("disabled",function(){h.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);h.resetSearchInput=void 0!==e?e:!0}),l.$observe("paste",function(){h.paste=i.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);h.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else h.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?h.taggingLabel=!1:h.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];h.taggingTokens={isActivated:!0,tokens:e}}}),l.$observe("spinnerEnabled",function(){var e=i.$eval(l.spinnerEnabled);h.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),l.$observe("spinnerClass",function(){var e=l.spinnerClass;h.spinnerClass=void 0!==e?l.spinnerClass:t.spinnerClass}),angular.isDefined(l.autofocus)&&o(function(){h.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){o(function(){h.setFocus()})}),e.on("click",p),i.$on("$destroy",function(){e.off("click",p)}),u(i,function(e){var t=angular.element("<div>").append(e),a=t.querySelectorAll(".ui-select-match");if(a.removeAttr("ui-select-match"),a.removeAttr("data-ui-select-match"),1!==a.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",a.length);s.querySelectorAll(".ui-select-match").replaceWith(a);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i);var r=t.querySelectorAll(".ui-select-no-choice");r.removeAttr("ui-select-no-choice"),r.removeAttr("data-ui-select-no-choice"),1==r.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(r)});var m=i.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(i.$watch("$select.open",function(e){e?d():f()}),i.$on("$destroy",function(){f()}));var v=null,b="",y=null,$="direction-up";i.$watch("$select.open",function(){("auto"===h.dropdownPosition||"up"===h.dropdownPosition)&&i.calculateDropdownPos()});var w=function(e,t){e=e||a(s),t=t||a(y),y[0].style.position="absolute",y[0].style.top=-1*t.height+"px",s.addClass($)},x=function(e,t){s.removeClass($),e=e||a(s),t=t||a(y),y[0].style.position="",y[0].style.top=""},k=function(){o(function(){if("up"===h.dropdownPosition)w();else{s.removeClass($);var t=a(s),n=a(y),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?w(t,n):x(t,n)}y[0].style.opacity=1})},T=!1;i.calculateDropdownPos=function(){if(h.open){if(y=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===y.length)return;if(""!==h.search||T||(y[0].style.opacity=0,T=!0),!a(y).height&&h.$animate&&h.$animate.on&&h.$animate.enabled(y)){var e=!0;h.$animate.on("enter",y,function(t,n){"close"===n&&e&&(k(),e=!1)})}else k()}else{if(null===y||0===y.length)return;y[0].style.opacity=0,y[0].style.position="",y[0].style.top="",s.removeClass($)}}}}}}]),a.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var a=n.parent(),i=t(a,"theme")||e.theme,r=angular.isDefined(t(a,"multiple"));return i+(r?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,a,i){function r(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=a.uiLockChoice,a.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),a.$observe("allowClear",r),r(a.allowClear),i.multiple&&i.sizeSearchInput()}}}]),a.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,a=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync(function(){n=e.ngModel}),a.activeMatchIndex=-1,a.updateModel=function(){n.$setViewValue(Date.now()),a.refreshComponent()},a.refreshComponent=function(){i.refreshItems&&i.refreshItems(),i.sizeSearchInput&&i.sizeSearchInput()},a.removeChoice=function(n){if(i.isLocked(null,n))return!1;var r=i.selected[n],o={};return o[i.parserResult.itemName]=r,i.selected.splice(n,1),a.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:r,$model:i.parserResult.modelMapper(e,o)})}),a.updateModel(),!0},a.getPlaceholder=function(){return i.selected&&i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,s){function l(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function c(e){function n(){switch(e){case t.LEFT:return~h.activeMatchIndex?u:o;case t.RIGHT:return~h.activeMatchIndex&&s!==o?c:(d.activate(),!1);case t.BACKSPACE:return~h.activeMatchIndex?h.removeChoice(s)?u:s:o;case t.DELETE:return~h.activeMatchIndex?(h.removeChoice(h.activeMatchIndex),s):!1}}var a=l(d.searchInput[0]),i=d.selected.length,r=0,o=i-1,s=h.activeMatchIndex,c=h.activeMatchIndex+1,u=h.activeMatchIndex-1,p=s;return a>0||d.search.length&&e==t.RIGHT?!1:(d.close(),p=n(),d.selected.length&&p!==!1?h.activeMatchIndex=Math.min(o,Math.max(r,p)):h.activeMatchIndex=-1,!0)}function u(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function p(e,t){var n=-1;if(angular.isArray(e))for(var a=angular.copy(e),i=0;i<a.length;i++)if(void 0===d.tagging.fct)a[i]+" "+d.taggingLabel===t&&(n=i);else{var r=a[i];angular.isObject(r)&&(r.isTag=!0),angular.equals(r,t)&&(n=i)}return n}var d=s[0],f=i.ngModel=s[1],h=i.$selectMultiple;d.multiple=!0,d.focusInput=d.searchInput,f.$isEmpty=function(e){return!e||0===e.length},f.$parsers.unshift(function(){for(var e,t={},n=[],a=d.selected.length-1;a>=0;a--)t={},t[d.parserResult.itemName]=d.selected[a],e=d.parserResult.modelMapper(i,t),n.unshift(e);return n}),f.$formatters.unshift(function(e){var t,n=d.parserResult&&d.parserResult.source(i,{
$select:{search:""}}),a={};if(!n)return e;var r=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(a[d.parserResult.itemName]=e[o],t=d.parserResult.modelMapper(i,a),d.parserResult.trackByExp){var s=/(\w*)\./.exec(d.parserResult.trackByExp),l=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(s&&s.length>0&&s[1]==d.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return r.unshift(e[o]),!0}if(angular.equals(t,n))return r.unshift(e[o]),!0}return!1}};if(!e)return r;for(var s=e.length-1;s>=0;s--)o(d.selected,e[s])||o(n,e[s])||r.unshift(e[s]);return r}),i.$watchCollection(function(){return f.$modelValue},function(e,t){t!=e&&(angular.isDefined(f.$modelValue)&&(f.$modelValue=null),h.refreshComponent())}),f.$render=function(){if(!angular.isArray(f.$viewValue)){if(!e(f.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",f.$viewValue);f.$viewValue=[]}d.selected=f.$viewValue,h.refreshComponent(),i.$evalAsync()},i.$on("uis:select",function(e,t){if(!(d.selected.length>=d.limit)){d.selected.push(t);var n={};n[d.parserResult.itemName]=t,a(function(){d.onSelectCallback(i,{$item:t,$model:d.parserResult.modelMapper(i,n)})}),h.updateModel()}}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(e){var n=e.which;i.$apply(function(){var a=!1;t.isHorizontalMovement(n)&&(a=c(n)),a&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),d.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,a,r,o,s=angular.copy(d.items),l=angular.copy(d.items),c=!1,f=-1;if(void 0!==d.tagging.fct){if(r=d.$filter("filter")(s,{isTag:!0}),r.length>0&&(o=r[0]),s.length>0&&o&&(c=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),l.some(function(e){return angular.equals(e,n)})||d.selected.some(function(e){return angular.equals(e,n)}))return void i.$evalAsync(function(){d.activeIndex=0,d.items=s});n&&(n.isTag=!0)}else{if(r=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),r.length>0&&(o=r[0]),a=s[0],void 0!==a&&s.length>0&&o&&(c=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,p(d.selected,d.search)>-1)return;if(u(l.concat(d.selected)))return void(c&&(s=l,i.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(u(l))return void(c&&(d.items=l.slice(1,l.length)))}c&&(f=p(d.selected,n)),f>-1?s=s.slice(f+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(l)),i.$evalAsync(function(){if(d.activeIndex=0,d.items=s,d.isGrouped){var e=n?s.slice(1):s;d.setItemsFn(e),n&&(d.items.unshift(n),d.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),d.searchInput.on("blur",function(){a(function(){h.activeMatchIndex=-1})})}}}]),a.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-no-choice");var n=t.parent().attr("theme")||e.theme;return n+"/no-choice.tpl.html"}}}]),a.directive("uiSelectSingle",["$timeout","$compile",function(n,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,s){var l=s[0],c=s[1];c.$parsers.unshift(function(t){if(e(t))return t;var n,a={};return a[l.parserResult.itemName]=t,n=l.parserResult.modelMapper(i,a)}),c.$formatters.unshift(function(t){if(e(t))return t;var n,a=l.parserResult&&l.parserResult.source(i,{$select:{search:""}}),r={};if(a){var o=function(e){return r[l.parserResult.itemName]=e,n=l.parserResult.modelMapper(i,r),n===t};if(l.selected&&o(l.selected))return l.selected;for(var s=a.length-1;s>=0;s--)if(o(a[s]))return a[s]}return t}),i.$watch("$select.selected",function(e){c.$viewValue!==e&&c.$setViewValue(e)}),c.$render=function(){l.selected=c.$viewValue},i.$on("uis:select",function(t,a){l.selected=a;var r={};r[l.parserResult.itemName]=a,n(function(){l.onSelectCallback(i,{$item:a,$model:e(a)?a:l.parserResult.modelMapper(i,r)})})}),i.$on("uis:close",function(e,t){n(function(){l.focusser.prop("disabled",!1),t||l.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");a(u)(i),l.focusser=u,l.focusInput=u,r.parent().append(u),u.bind("focus",function(){i.$evalAsync(function(){l.focus=!0})}),u.bind("blur",function(){i.$evalAsync(function(){l.focus=!1})}),u.bind("keydown",function(e){return e.which===t.BACKSPACE&&l.backspaceReset!==!1?(e.preventDefault(),e.stopPropagation(),l.select(void 0),void i.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||((e.which==t.DOWN||e.which==t.UP||e.which==t.ENTER||e.which==t.SPACE)&&(e.preventDefault(),e.stopPropagation(),l.activate()),i.$digest()))}),u.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(l.activate(u.val()),u.val(""),i.$digest())})}}}]),a.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,a,i,r){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var o=r[0],s=r[1],l=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),c=l.axis,u="dragging",p="dropping",d="dropping-before",f="dropping-after";t.$watch(function(){return o.sortable},function(e){e?a.attr("draggable",!0):a.removeAttr("draggable")}),a.on("dragstart",function(e){a.addClass(u),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),a.on("dragend",function(){m(u)});var h,g=function(e,t){this.splice(t,0,this.splice(e,1)[0])},m=function(e){angular.forEach(o.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault();var t="vertical"===c?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===c?"offsetHeight":"offsetWidth"]/2?(m(f),a.addClass(d)):(m(d),a.addClass(f))},b=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(h),h=e(function(){y(n)},20)},y=function(e){var n=t.$eval(i.uiSelectSort),r=n[e],o=null;o=a.hasClass(d)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,g.apply(n,[e,o]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:r,from:e,to:o})}),m(p),m(d),m(f),a.off("drop",b)};a.on("dragenter",function(){a.hasClass(u)||(a.addClass(p),a.on("dragover",v),a.on("drop",b))}),a.on("dragleave",function(e){e.target==a&&(m(p),m(d),m(f),a.off("dragover",v),a.off("drop",b))})}}}]),a.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,a,i,r){r.onOpenCloseCallback=e(i.uisOpenClose),n.$watch("$select.open",function(e,a){e!==a&&t(function(){r.onOpenCloseCallback(n,{isOpen:e})})})}}}]),a.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var a;if(a=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!a)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=a[5],r="";if(a[3]){i=a[5].replace(/(^\()|(\)$)/g,"");var o=a[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(r=o[1],i=i.replace(r,""))}return{itemName:a[4]||a[2],keyName:a[3],source:t(i),filters:r,trackByExp:a[6],modelMapper:t(a[1]||a[4]||a[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),define("libs/select/select",function(){}),define("libraries",["libs/angular-autocomplete/angular-autocomplete","libs/ui-bootstrap","libs/ng-context-menu-0.1.4","libs/underscore-1.9.1","libs/algolia-2.5.2","libs/jquery.storage","libs/angular-sanitize-1.6.4","libs/angular-cookie","libs/passfield","libs/ng-tags-input-3.0.0","libs/select/select"],function(){});
//# sourceMappingURL=libraries.js.map